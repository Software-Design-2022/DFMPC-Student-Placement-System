{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Calendar, Agenda } from \"react-native-calendars\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport LogBox from \"react-native-web/dist/exports/LogBox\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Card, Avatar } from \"react-native-paper\";\nimport { firebase, db } from \"../firebase\";\nimport { getCurrentDate } from \"../HelperFunctions\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport { AntDesign } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar data = [];\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar SPACING = 20;\nvar ICON_SIZE = 75;\nvar initialDate = getCurrentDate();\n\nfunction eventsData(onReceiveList) {\n  var events, snapshot;\n  return _regeneratorRuntime.async(function eventsData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          events = [];\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.firestore().collection(\"events\").get().then(function (querySnapshot) {\n            querySnapshot.forEach(function (doc) {\n              var start = doc.data().start_date,\n                  end = doc.data().end_date,\n                  name = doc.data().name,\n                  id = doc.data().id,\n                  programme = doc.data().programme,\n                  key = events.length + 1;\n              events.push({\n                key: key,\n                start: start,\n                end: end,\n                id: id,\n                programme: programme,\n                name: name\n              });\n            });\n          }));\n\n        case 3:\n          snapshot = _context.sent;\n          onReceiveList(events);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nLogBox.ignoreLogs([\"Setting a timer\"]);\n\nvar EventsCalendar = function (_React$Component) {\n  _inherits(EventsCalendar, _React$Component);\n\n  var _super = _createSuper(EventsCalendar);\n\n  function EventsCalendar(props) {\n    var _this;\n\n    _classCallCheck(this, EventsCalendar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      modalVisible: false\n    };\n\n    _this.setModalVisible = function (visible) {\n      _this.setState({\n        modalVisible: visible\n      });\n    };\n\n    _this.state = {\n      items: {},\n      events: []\n    };\n    return _this;\n  }\n\n  _createClass(EventsCalendar, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var modalVisible = this.state.modalVisible;\n      return _jsxs(View, {\n        style: {\n          flex: 1\n        },\n        children: [_jsx(Modal, {\n          animationType: \"slide\",\n          transparent: true,\n          visible: modalVisible,\n          onRequestClose: function onRequestClose() {\n            Alert.alert(\"Modal has been closed.\");\n\n            _this2.setModalVisible(!modalVisible);\n          },\n          children: _jsx(View, {\n            style: styles.centeredView,\n            children: _jsxs(View, {\n              style: {\n                top: 50,\n                height: 400,\n                width: width / 1.2,\n                backgroundColor: 'white',\n                borderRadius: 10,\n                borderWidth: 4\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 25,\n                  top: 10,\n                  textAlign: 'center'\n                },\n                children: \"Create Event\"\n              }), _jsx(Pressable, {\n                style: [styles.button, styles.buttonClose, {\n                  width: width / 4,\n                  left: width / 4 + 15\n                }],\n                onPress: function onPress() {\n                  return _this2.setModalVisible(!modalVisible);\n                },\n                children: _jsx(Text, {\n                  style: [styles.textStyle],\n                  children: \"Done\"\n                })\n              }), _jsx(Pressable, {\n                style: [styles.button, styles.buttonClose],\n                onPress: function onPress() {\n                  return _this2.setModalVisible(!modalVisible);\n                },\n                children: _jsx(Text, {\n                  style: styles.textStyle,\n                  children: \"Close\"\n                })\n              })]\n            })\n          })\n        }), _jsx(View, {\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this2.setModalVisible(true);\n            },\n            style: {\n              backgroundColor: 'rgba(28,56,107,0.0)',\n              position: 'absolute',\n              borderRadius: 50,\n              width: 50,\n              height: 50,\n              zIndex: 1,\n              right: 20,\n              top: height - 250,\n              alignItems: 'center'\n            },\n            children: _jsx(AntDesign, {\n              name: \"pluscircle\",\n              color: \"white\",\n              size: 50\n            })\n          })\n        }), _jsx(Agenda, {\n          theme: {\n            calendarBackground: \"white\",\n            agendaKnobColor: \"rgba(28,56,107,0.9)\",\n            backgroundColor: \"rgba(28,56,107,0.9)\",\n            agendaDayTextColor: \"white\",\n            agendaDayNumColor: \"white\",\n            agendaTodayColor: \"rgba(255,255,255,0.9)\",\n            monthTextColor: \"rgba(28,56,107,0.9)\",\n            todayBackgroundColor: \"rgba(28,56,107,0.9)\",\n            textSectionTitleColor: \"rgba(28,56,107,0.9)\",\n            selectedDayBackgroundColor: \"rgba(28,56,107,0.9)\",\n            dayTextColor: \"rgba(28,56,107,0.9)\",\n            dotColor: \"black\"\n          },\n          items: this.state.items,\n          selected: new Date(),\n          renderItem: this.renderItem.bind(this),\n          renderEmptyDate: this.renderEmptyDate.bind(this),\n          rowHasChanged: this.rowHasChanged.bind(this)\n        })]\n      });\n    }\n  }, {\n    key: \"loadFromList\",\n    value: function loadFromList() {\n      var _this3 = this;\n\n      var onReceive = function onReceive(data) {\n        _this3.setState({\n          events: data\n        });\n      };\n\n      eventsData(onReceive);\n      this.state.events.map(function (key, index) {\n        var day = key.start;\n\n        if (!_this3.state.items[day]) {\n          _this3.state.items[day] = [];\n\n          _this3.state.items[day].push({\n            Name: \"Event: \" + key.name,\n            Programme: \"Programme: \" + key.programme,\n            start: \"start day: \" + key.start,\n            end: \"end day: \" + key.end,\n            height: Math.max(50, Math.floor(Math.random() * 150))\n          });\n        }\n\n        var newItems = {};\n        Object.keys(_this3.state.items).forEach(function (key) {\n          newItems[key] = _this3.state.items[key];\n        });\n\n        _this3.setState({\n          items: newItems\n        });\n      });\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item) {\n      return _jsxs(View, {\n        style: [styles.item, {\n          height: 100\n        }],\n        children: [_jsx(Text, {\n          children: item.Name\n        }), _jsx(Text, {\n          children: item.Programme\n        }), _jsx(Text, {\n          children: item.start\n        }), _jsx(Text, {\n          children: item.end\n        })]\n      });\n    }\n  }, {\n    key: \"renderEmptyDate\",\n    value: function renderEmptyDate() {\n      return _jsx(View, {\n        children: _jsx(View, {\n          style: styles.emptyDate,\n          children: _jsx(Text, {\n            children: \"No events on this day!\"\n          })\n        })\n      });\n    }\n  }, {\n    key: \"rowHasChanged\",\n    value: function rowHasChanged(r1, r2) {\n      return r1.name !== r2.name;\n    }\n  }]);\n\n  return EventsCalendar;\n}(React.Component);\n\nexport { EventsCalendar as default };\nvar styles = StyleSheet.create({\n  item: {\n    backgroundColor: \"white\",\n    flex: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginRight: 10,\n    marginTop: 17\n  },\n  emptyDate: {\n    height: 15,\n    flex: 1,\n    paddingTop: 30\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5,\n    width: width / 2,\n    height: height / 3\n  },\n  button: {\n    borderRadius: 10,\n    padding: 10,\n    elevation: 2,\n    bottom: -height / 5\n  },\n  buttonClose: {\n    backgroundColor: \"black\"\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/callu/Desktop/3rd Year/Software Design Project/App/DFMPC-Student-Placement-System/Screens/EventsCalendar.js"],"names":["Calendar","Agenda","React","useState","Card","Avatar","firebase","db","getCurrentDate","useNavigation","AntDesign","data","Dimensions","get","width","height","SPACING","ICON_SIZE","initialDate","eventsData","onReceiveList","events","firestore","collection","then","querySnapshot","forEach","doc","start","start_date","end","end_date","name","id","programme","key","length","push","snapshot","LogBox","ignoreLogs","EventsCalendar","props","state","modalVisible","setModalVisible","visible","setState","items","flex","Alert","alert","styles","centeredView","top","backgroundColor","borderRadius","borderWidth","fontSize","textAlign","button","buttonClose","left","textStyle","position","zIndex","right","alignItems","calendarBackground","agendaKnobColor","agendaDayTextColor","agendaDayNumColor","agendaTodayColor","monthTextColor","todayBackgroundColor","textSectionTitleColor","selectedDayBackgroundColor","dayTextColor","dotColor","Date","renderItem","bind","renderEmptyDate","rowHasChanged","onReceive","map","index","day","Name","Programme","Math","max","floor","random","newItems","Object","keys","item","emptyDate","r1","r2","Component","StyleSheet","create","padding","marginRight","marginTop","paddingTop","justifyContent","modalView","margin","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","bottom","color","fontWeight","modalText","marginBottom"],"mappings":"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","sourcesContent":["import { Calendar, Agenda } from \"react-native-calendars\"; // 1.5.3\r\nimport React, { useState } from \"react\";\r\nimport { View, StyleSheet, TouchableOpacity, Text,Pressable, LogBox, Modal, TouchableHighlight,Image,  Dimensions, } from \"react-native\";\r\nimport { Card, Avatar } from \"react-native-paper\";\r\nimport { firebase, db } from \"../firebase\";\r\nimport { getCurrentDate } from \"../HelperFunctions\";\r\nimport { useNavigation } from \"@react-navigation/core\";\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nconst data=[];\r\nconst { width, height } = Dimensions.get(\"screen\");\r\nconst SPACING = 20;\r\nconst ICON_SIZE = 75;\r\nconst initialDate = getCurrentDate();\r\nasync function eventsData(onReceiveList) {\r\n  const events = [];\r\n  var snapshot = await firebase\r\n    .firestore()\r\n    .collection(\"events\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      querySnapshot.forEach(function (doc) {\r\n        let start = doc.data().start_date,\r\n          end = doc.data().end_date,\r\n          name = doc.data().name,\r\n          id = doc.data().id,\r\n          programme = doc.data().programme,\r\n          key = events.length + 1;\r\n        // events.push(JSON.stringify({key, start, end, name, id, programme})); //this is an array of strings\r\n        events.push({\r\n          key: key,\r\n          start: start,\r\n          end: end,\r\n          id: id,\r\n          programme: programme,\r\n          name: name,\r\n        });\r\n      });\r\n    });\r\n\r\n  onReceiveList(events);\r\n}\r\n\r\nLogBox.ignoreLogs([\"Setting a timer\"]);\r\n\r\nexport default class EventsCalendar extends React.Component {\r\n  state = {\r\n    modalVisible: false\r\n  };\r\n  setModalVisible = (visible) => {\r\n    this.setState({ modalVisible: visible });\r\n  }\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      items: {},\r\n      events: [],\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { modalVisible } = this.state;\r\n    return (\r\n      <View style={{flex:1}}>\r\n        <Modal\r\n          animationType=\"slide\"\r\n          transparent={true}\r\n          visible={modalVisible}\r\n          onRequestClose={() => {\r\n            Alert.alert(\"Modal has been closed.\");\r\n            this.setModalVisible(!modalVisible);\r\n          }}\r\n        >\r\n          <View style={styles.centeredView}>\r\n            <View style={{top:50,height:400,width:width/1.2,backgroundColor:'white',borderRadius:10,borderWidth:4}}>\r\n              <Text style={{fontSize:25,top:10,textAlign:'center'}}>Create Event</Text>\r\n              <Pressable\r\n                style={[styles.button, styles.buttonClose,{width:width/4,left:width/4 +15}]}\r\n                onPress={() => this.setModalVisible(!modalVisible)}\r\n              >\r\n                <Text style={[styles.textStyle]}>Done</Text>\r\n              </Pressable>\r\n              <Pressable\r\n                style={[styles.button, styles.buttonClose]}\r\n                onPress={() => this.setModalVisible(!modalVisible)}\r\n              >\r\n                <Text style={styles.textStyle}>Close</Text>\r\n              </Pressable>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      <View>\r\n      <TouchableOpacity onPress={() => this.setModalVisible(true)}\r\n       style={{ backgroundColor: 'rgba(28,56,107,0.0)', position: 'absolute', borderRadius: 50,\r\n        width: 50, height: 50, zIndex: 1, right: 20, top: height-250, alignItems: 'center' }} >\r\n                    <AntDesign name=\"pluscircle\" color='white' size={50} />\r\n      </TouchableOpacity>\r\n      </View>\r\n      <Agenda \r\n        theme={{ \r\n          calendarBackground: \"white\", //agenda background\r\n          agendaKnobColor: \"rgba(28,56,107,0.9)\", // knob color\r\n          backgroundColor: \"rgba(28,56,107,0.9)\", // background color below agenda\r\n          agendaDayTextColor: \"white\", // day name\r\n          agendaDayNumColor: \"white\", // day number\r\n          agendaTodayColor: \"rgba(255,255,255,0.9)\", // today in list\r\n          monthTextColor: \"rgba(28,56,107,0.9)\", // name in calendar\r\n          todayBackgroundColor: \"rgba(28,56,107,0.9)\",\r\n          textSectionTitleColor: \"rgba(28,56,107,0.9)\",\r\n          selectedDayBackgroundColor: \"rgba(28,56,107,0.9)\", // calendar sel date\r\n          dayTextColor: \"rgba(28,56,107,0.9)\", // calendar day\r\n          dotColor: \"black\", // dots\r\n        }}\r\n        items={this.state.items}\r\n        selected={new Date()}\r\n        //loadItemsForMonth={data}\r\n        renderItem={this.renderItem.bind(this)}\r\n        renderEmptyDate={this.renderEmptyDate.bind(this)}\r\n        rowHasChanged={this.rowHasChanged.bind(this)}\r\n      />\r\n      </View>\r\n      \r\n    );\r\n  }\r\n\r\n  loadFromList() {\r\n    const onReceive = (data) => {\r\n      this.setState({\r\n        events: data,\r\n      });\r\n    };\r\n    eventsData(onReceive);\r\n    this.state.events.map((key, index) => {\r\n      const day = key.start;\r\n\r\n      if (!this.state.items[day]) {\r\n        this.state.items[day] = [];\r\n        this.state.items[day].push({\r\n          Name: \"Event: \" + key.name,\r\n          Programme: \"Programme: \" + key.programme,\r\n          start: \"start day: \" + key.start,\r\n          end: \"end day: \" + key.end,\r\n          height: Math.max(50, Math.floor(Math.random() * 150)),\r\n        });\r\n      }\r\n      //console.log(this.state.items);\r\n      const newItems = {};\r\n      Object.keys(this.state.items).forEach((key) => {\r\n        newItems[key] = this.state.items[key];\r\n      });\r\n      this.setState({\r\n        items: newItems,\r\n      });\r\n    });\r\n  }\r\n\r\n  renderItem(item) {\r\n    return (\r\n      <View style={[styles.item, { height:100 }]}>\r\n        <Text>{item.Name}</Text>\r\n        <Text>{item.Programme}</Text>\r\n        <Text>{item.start}</Text>\r\n        <Text>{item.end}</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderEmptyDate() {\r\n    return (\r\n      <View>\r\n      <View style={styles.emptyDate}>\r\n        <Text>No events on this day!</Text>\r\n      </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  rowHasChanged(r1, r2) {\r\n    return r1.name !== r2.name;\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  item: {\r\n    backgroundColor: \"white\",\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginRight: 10,\r\n    marginTop: 17,\r\n  },\r\n  emptyDate: {\r\n    height: 15,\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 20,\r\n    padding: 35,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 4,\r\n    elevation: 5,\r\n    width:width/2,\r\n    height:height/3\r\n  },\r\n  button: {\r\n    borderRadius: 10,\r\n    padding: 10,\r\n    elevation: 2,\r\n    bottom:-height/5,\r\n  },\r\n  buttonClose: {\r\n    backgroundColor: \"black\",\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\"\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}