{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport { Calendar, CalendarList, Agenda } from \"react-native-calendars\";\nimport { getEvents } from \"../Screens/RetrieveEvents\";\nimport AppContext from \"../AppContext\";\nimport \"../global.js\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { setStatusBarNetworkActivityIndicatorVisible } from \"expo-status-bar\";\nimport { firebase, db } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar buttonHeight = 50;\nvar textPos = buttonHeight / 2;\nvar SPACING = 20;\nvar AVATAR_SIZE = 70;\nvar ICON_SIZE = 80;\nvar dateToPass = \"\";\nvar specialty = \"\";\nvar RANGE = 12;\nvar initialDate = \"2022-01-02\";\nvar usersAgenda = {};\nvar days = \"\";\n\nvar EventCalendar = function EventCalendar() {\n  var navigation = useNavigation();\n  var myContext = useContext(AppContext);\n\n  function data() {\n    var events, snapshot;\n    return _regeneratorRuntime.async(function data$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            events = [];\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(firebase.firestore().collection(\"events\").get().then(function (querySnapshot) {\n              querySnapshot.forEach(function (doc) {\n                var start = doc.data().start_date,\n                    end = doc.data().end_date,\n                    name = doc.data().name,\n                    id = doc.data().id,\n                    programme = doc.data().programme,\n                    key = events.length + 1;\n                events.push({\n                  key: key,\n                  start: start,\n                  end: end,\n                  name: name,\n                  id: id,\n                  programme: programme\n                });\n              });\n            }));\n\n          case 3:\n            snapshot = _context.sent;\n            return _context.abrupt(\"return\", events);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function createList() {\n    var events = data();\n    var list = {};\n\n    for (var i = 0; i < events.length; i++) {\n      list[events[i].start] = {\n        marked: true,\n        dotColor: 'blue',\n        activeOpacity: 0\n      };\n      list[events[i]];\n    }\n\n    return list;\n  }\n\n  var onDayPress = function onDayPress(day) {\n    console.log(\"Just ran the redundant function\");\n  };\n\n  return _jsx(View, {\n    children: _jsx(CalendarList, {\n      current: initialDate,\n      pastScrollRange: 3,\n      futureScrollRange: RANGE,\n      theme: theme,\n      onDayPress: function onDayPress(day) {\n        setSelectedDate(day.dateString);\n        dateToPass = day.dateString;\n        console.log(\"dateToPass value before navigation:\", dateToPass);\n        navigation.navigate(\"DayAgenda\");\n      },\n      markingType: \"period\"\n    })\n  });\n};\n\nvar generateSchedule = function generateSchedule(onReceive) {};\n\nvar theme = {\n  \"stylesheet.calendar.header\": {\n    dayHeader: {\n      fontWeight: \"600\",\n      color: \"#48BFE3\"\n    }\n  },\n  \"stylesheet.day.basic\": {\n    today: {\n      borderColor: \"#48BFE3\",\n      borderWidth: 0.8\n    },\n    todayText: {\n      color: \"#5390D9\",\n      fontWeight: \"800\"\n    }\n  }\n};\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 20,\n    backgroundColor: \"white\",\n    marginTop: 10,\n    borderRadius: 20,\n    flex: 1,\n    borderColor: \"rgba(36,50,61,1)\",\n    borderWidth: 5\n  }\n});\nexport default EventCalendar;\nexport { dateToPass };\nexport { days };","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigation","Calendar","CalendarList","Agenda","getEvents","AppContext","NavigationContainer","setStatusBarNetworkActivityIndicatorVisible","firebase","db","buttonHeight","textPos","SPACING","AVATAR_SIZE","ICON_SIZE","dateToPass","specialty","RANGE","initialDate","usersAgenda","days","EventCalendar","navigation","myContext","data","events","firestore","collection","get","then","querySnapshot","forEach","doc","start","start_date","end","end_date","name","id","programme","key","length","push","snapshot","createList","list","i","marked","dotColor","activeOpacity","onDayPress","day","console","log","theme","setSelectedDate","dateString","navigate","generateSchedule","onReceive","dayHeader","fontWeight","color","today","borderColor","borderWidth","todayText","styles","StyleSheet","create","container","marginTop","backgroundColor","borderRadius","flex"],"sources":["C:/Users/nokno/OneDrive/Documents/GitHub/DFMPC-Student-Placement-System/Screens/EventsCalendar.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { StyleSheet, View } from \"react-native\";\r\nimport { useNavigation } from \"@react-navigation/core\";\r\nimport { Calendar, CalendarList, Agenda } from \"react-native-calendars\";\r\nimport { getEvents } from \"../Screens/RetrieveEvents\";\r\nimport AppContext from \"../AppContext\";\r\nimport \"../global.js\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { setStatusBarNetworkActivityIndicatorVisible } from \"expo-status-bar\";\r\nimport {firebase, db} from \"../firebase\"\r\n\r\n//constants\r\nconst buttonHeight = 50;\r\nconst textPos = buttonHeight / 2;\r\nconst SPACING = 20;\r\nconst AVATAR_SIZE = 70;\r\nconst ICON_SIZE = 80;\r\nvar dateToPass = \"\";\r\nvar specialty = \"\";\r\nconst RANGE = 12;\r\nconst initialDate = \"2022-01-02\";\r\nvar usersAgenda = {};\r\nconst days = \"\"; //@Noku - this is what I used to fix the Calendar\r\n\r\nconst EventCalendar = () => {\r\n  //use navigation\r\n  const navigation = useNavigation();\r\n  const myContext = useContext(AppContext);\r\n  // Keeps track of selected date\r\n\r\nasync function data()\r\n{\r\n  var events = [];\r\n  var snapshot = await firebase\r\n    .firestore()\r\n    .collection(\"events\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach(function (doc) {\r\n          let start = doc.data().start_date,\r\n          end = doc.data().end_date,\r\n          name = doc.data().name,\r\n          id = doc.data().id,\r\n          programme = doc.data().programme,\r\n          key = events.length + 1;\r\n          events.push({key, start, end, name, id, programme});\r\n    \r\n        });\r\n    });\r\n    return events;\r\n}\r\n\r\nfunction createList()\r\n{\r\n  var events = data();\r\n  var list = {};\r\n  for (var i = 0; i < events.length; i++)\r\n  {\r\n    list[events[i].start] = {marked: true, dotColor: 'blue', activeOpacity: 0};\r\n    list[events[i]]\r\n  }\r\n  return list;\r\n}\r\n\r\n\r\n  // User's agenda\r\n  // What to do when day is pressed.\r\n  const onDayPress = (day) => {\r\n    console.log(\"Just ran the redundant function\");\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      <CalendarList\r\n        // testID={testIDs.calendarList.CONTAINER}\r\n        current={initialDate}\r\n        pastScrollRange={3}\r\n        futureScrollRange={RANGE}\r\n        // renderHeader={renderCustomHeader}\r\n        theme={theme}\r\n        \r\n        onDayPress={(day) => {\r\n          setSelectedDate(day.dateString);\r\n          dateToPass = day.dateString;\r\n          console.log(\"dateToPass value before navigation:\", dateToPass);\r\n          navigation.navigate(\"DayAgenda\"); // @Noku Does this js file exist?\r\n        }}\r\n        markingType=\"period\"\r\n\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst generateSchedule = (onReceive) => {\r\n  /**\r\n   * Function to generate the schedule for the calendar\r\n   * TODO: Create a calendar with the student's ID as their schedule.\r\n   * For loop through the Event List and add the dates to the calendar as followed.\r\n   * Create .saveEvent() function to save the event to the database.\r\n   * RNCalendarEvents.saveEvent(specialtyName, {\r\n   * calendarId: studentID,\r\n   * startDate: start_date, \\\\ Correct format '2016-08-19T19:26:00.000Z'\r\n   * recurrenceRule: {\r\n   * frequency: 'weekly',\r\n   * endDate: end_date,\r\n   * }\r\n   * location:  hospitalID,\r\n   * notes: 'Bring sunglasses'\r\n   * }\r\n   */\r\n  \r\n};\r\n\r\nconst theme = {\r\n  \"stylesheet.calendar.header\": {\r\n    dayHeader: {\r\n      fontWeight: \"600\",\r\n      color: \"#48BFE3\",\r\n    },\r\n  },\r\n  \"stylesheet.day.basic\": {\r\n    today: {\r\n      borderColor: \"#48BFE3\",\r\n      borderWidth: 0.8,\r\n    },\r\n    todayText: {\r\n      color: \"#5390D9\",\r\n      fontWeight: \"800\",\r\n    },\r\n  },\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: 20,\r\n    backgroundColor: \"white\",\r\n    marginTop: 10,\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    borderColor: \"rgba(36,50,61,1)\",\r\n    borderWidth: 5,\r\n  },\r\n});\r\n\r\nexport default EventCalendar;\r\n\r\nexport { dateToPass };\r\nexport { days };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}