{
  "ast": null,
  "code": "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { forwardRef, useCallback, useEffect, useMemo, useRef } from 'react';\nimport { DataProvider, LayoutProvider, RecyclerListView } from 'recyclerlistview';\nimport inRange from 'lodash/inRange';\nimport debounce from 'lodash/debounce';\nimport noop from 'lodash/noop';\nimport constants from \"../commons/constants\";\nimport useCombinedRefs from \"../commons/useCombinedRefs\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar dataProviderMaker = function dataProviderMaker(items) {\n  return new DataProvider(function (item1, item2) {\n    return item1 !== item2;\n  }).cloneWithRows(items);\n};\n\nvar InfiniteList = function InfiniteList(props, ref) {\n  var renderItem = props.renderItem,\n      data = props.data,\n      _props$reloadPages = props.reloadPages,\n      reloadPages = _props$reloadPages === void 0 ? noop : _props$reloadPages,\n      _props$pageWidth = props.pageWidth,\n      pageWidth = _props$pageWidth === void 0 ? constants.screenWidth : _props$pageWidth,\n      _props$pageHeight = props.pageHeight,\n      pageHeight = _props$pageHeight === void 0 ? constants.screenHeight : _props$pageHeight,\n      onPageChange = props.onPageChange,\n      onReachEdge = props.onReachEdge,\n      onReachNearEdge = props.onReachNearEdge,\n      onReachNearEdgeThreshold = props.onReachNearEdgeThreshold,\n      _props$initialPageInd = props.initialPageIndex,\n      initialPageIndex = _props$initialPageInd === void 0 ? 0 : _props$initialPageInd,\n      extendedState = props.extendedState,\n      scrollViewProps = props.scrollViewProps;\n  var dataProvider = useMemo(function () {\n    return dataProviderMaker(data);\n  }, [data]);\n  var layoutProvider = useRef(new LayoutProvider(function () {\n    return 'page';\n  }, function (_type, dim) {\n    dim.width = pageWidth;\n    dim.height = pageHeight;\n  }));\n  var listRef = useCombinedRefs(ref);\n  var pageIndex = useRef();\n  var isOnEdge = useRef(false);\n  var isNearEdge = useRef(false);\n  var scrolledByUser = useRef(false);\n  var reloadPagesDebounce = useCallback(debounce(reloadPages, 500, {\n    leading: false,\n    trailing: true\n  }), [reloadPages]);\n  useEffect(function () {\n    setTimeout(function () {\n      var _listRef$current;\n\n      (_listRef$current = listRef.current) == null ? void 0 : _listRef$current.scrollToOffset == null ? void 0 : _listRef$current.scrollToOffset(Math.floor(data.length / 2) * pageWidth, 0, false);\n    }, 0);\n  }, [data]);\n  var onScroll = useCallback(function (event, offsetX, offsetY) {\n    reloadPagesDebounce == null ? void 0 : reloadPagesDebounce.cancel();\n    var newPageIndex = Math.round(event.nativeEvent.contentOffset.x / pageWidth);\n\n    if (pageIndex.current !== newPageIndex) {\n      if (pageIndex.current !== undefined) {\n        onPageChange == null ? void 0 : onPageChange(newPageIndex, pageIndex.current, {\n          scrolledByUser: scrolledByUser.current\n        });\n        scrolledByUser.current = false;\n        isOnEdge.current = false;\n        isNearEdge.current = false;\n\n        if (newPageIndex === 0 || newPageIndex === data.length - 1) {\n          isOnEdge.current = true;\n        } else if (onReachNearEdgeThreshold && !inRange(newPageIndex, onReachNearEdgeThreshold, data.length - onReachNearEdgeThreshold)) {\n          isNearEdge.current = true;\n        }\n      }\n\n      pageIndex.current = newPageIndex;\n    }\n\n    props.onScroll == null ? void 0 : props.onScroll(event, offsetX, offsetY);\n  }, [props.onScroll, onPageChange, data.length, reloadPagesDebounce]);\n  var onMomentumScrollEnd = useCallback(function (event) {\n    if (isOnEdge.current) {\n      onReachEdge == null ? void 0 : onReachEdge(pageIndex.current);\n      reloadPagesDebounce == null ? void 0 : reloadPagesDebounce(pageIndex.current);\n    } else if (isNearEdge.current) {\n      reloadPagesDebounce == null ? void 0 : reloadPagesDebounce(pageIndex.current);\n      onReachNearEdge == null ? void 0 : onReachNearEdge(pageIndex.current);\n    }\n\n    scrollViewProps == null ? void 0 : scrollViewProps.onMomentumScrollEnd == null ? void 0 : scrollViewProps.onMomentumScrollEnd(event);\n  }, [scrollViewProps == null ? void 0 : scrollViewProps.onMomentumScrollEnd, onReachEdge, onReachNearEdge, reloadPagesDebounce]);\n  var onScrollBeginDrag = useCallback(function () {\n    scrolledByUser.current = true;\n  }, []);\n  var style = useMemo(function () {\n    return {\n      height: pageHeight\n    };\n  }, [pageHeight]);\n  return _jsx(RecyclerListView, {\n    ref: listRef,\n    isHorizontal: true,\n    rowRenderer: renderItem,\n    dataProvider: dataProvider,\n    layoutProvider: layoutProvider.current,\n    extendedState: extendedState,\n    initialRenderIndex: initialPageIndex,\n    renderAheadOffset: 5 * pageWidth,\n    onScroll: onScroll,\n    style: style,\n    scrollViewProps: _objectSpread(_objectSpread({\n      pagingEnabled: true,\n      bounces: false\n    }, scrollViewProps), {}, {\n      onScrollBeginDrag: onScrollBeginDrag,\n      onMomentumScrollEnd: onMomentumScrollEnd\n    })\n  });\n};\n\nexport default forwardRef(InfiniteList);",
  "map": {
    "version": 3,
    "names": [
      "React",
      "forwardRef",
      "useCallback",
      "useEffect",
      "useMemo",
      "useRef",
      "DataProvider",
      "LayoutProvider",
      "RecyclerListView",
      "inRange",
      "debounce",
      "noop",
      "constants",
      "useCombinedRefs",
      "dataProviderMaker",
      "items",
      "item1",
      "item2",
      "cloneWithRows",
      "InfiniteList",
      "props",
      "ref",
      "renderItem",
      "data",
      "reloadPages",
      "pageWidth",
      "screenWidth",
      "pageHeight",
      "screenHeight",
      "onPageChange",
      "onReachEdge",
      "onReachNearEdge",
      "onReachNearEdgeThreshold",
      "initialPageIndex",
      "extendedState",
      "scrollViewProps",
      "dataProvider",
      "layoutProvider",
      "_type",
      "dim",
      "width",
      "height",
      "listRef",
      "pageIndex",
      "isOnEdge",
      "isNearEdge",
      "scrolledByUser",
      "reloadPagesDebounce",
      "leading",
      "trailing",
      "setTimeout",
      "current",
      "scrollToOffset",
      "Math",
      "floor",
      "length",
      "onScroll",
      "event",
      "offsetX",
      "offsetY",
      "cancel",
      "newPageIndex",
      "round",
      "nativeEvent",
      "contentOffset",
      "x",
      "undefined",
      "onMomentumScrollEnd",
      "onScrollBeginDrag",
      "style",
      "pagingEnabled",
      "bounces"
    ],
    "sources": [
      "/home/cipher73/Coding Projects/SDproject/DFMPC-Student-Placement-System/node_modules/react-native-calendars/src/infinite-list/index.js"
    ],
    "sourcesContent": [
      "// TODO: Make this a common component for all horizontal lists in this lib\nimport React, { forwardRef, useCallback, useEffect, useMemo, useRef } from 'react';\nimport { DataProvider, LayoutProvider, RecyclerListView } from 'recyclerlistview';\nimport inRange from 'lodash/inRange';\nimport debounce from 'lodash/debounce';\nimport noop from 'lodash/noop';\nimport constants from '../commons/constants';\nimport useCombinedRefs from '../commons/useCombinedRefs';\nconst dataProviderMaker = (items) => new DataProvider((item1, item2) => item1 !== item2).cloneWithRows(items);\nconst InfiniteList = (props, ref) => {\n    const { renderItem, data, reloadPages = noop, pageWidth = constants.screenWidth, pageHeight = constants.screenHeight, onPageChange, onReachEdge, onReachNearEdge, onReachNearEdgeThreshold, initialPageIndex = 0, extendedState, scrollViewProps } = props;\n    const dataProvider = useMemo(() => {\n        return dataProviderMaker(data);\n    }, [data]);\n    const layoutProvider = useRef(new LayoutProvider(() => 'page', (_type, dim) => {\n        dim.width = pageWidth;\n        dim.height = pageHeight;\n    }));\n    const listRef = useCombinedRefs(ref);\n    const pageIndex = useRef();\n    const isOnEdge = useRef(false);\n    const isNearEdge = useRef(false);\n    const scrolledByUser = useRef(false);\n    const reloadPagesDebounce = useCallback(debounce(reloadPages, 500, { leading: false, trailing: true }), [reloadPages]);\n    useEffect(() => {\n        setTimeout(() => {\n            // @ts-expect-error\n            listRef.current?.scrollToOffset?.(Math.floor(data.length / 2) * pageWidth, 0, false);\n        }, 0);\n    }, [data]);\n    const onScroll = useCallback((event, offsetX, offsetY) => {\n        reloadPagesDebounce?.cancel();\n        const newPageIndex = Math.round(event.nativeEvent.contentOffset.x / pageWidth);\n        if (pageIndex.current !== newPageIndex) {\n            if (pageIndex.current !== undefined) {\n                onPageChange?.(newPageIndex, pageIndex.current, { scrolledByUser: scrolledByUser.current });\n                scrolledByUser.current = false;\n                isOnEdge.current = false;\n                isNearEdge.current = false;\n                if (newPageIndex === 0 || newPageIndex === data.length - 1) {\n                    isOnEdge.current = true;\n                }\n                else if (onReachNearEdgeThreshold &&\n                    !inRange(newPageIndex, onReachNearEdgeThreshold, data.length - onReachNearEdgeThreshold)) {\n                    isNearEdge.current = true;\n                }\n            }\n            pageIndex.current = newPageIndex;\n        }\n        props.onScroll?.(event, offsetX, offsetY);\n    }, [props.onScroll, onPageChange, data.length, reloadPagesDebounce]);\n    const onMomentumScrollEnd = useCallback(event => {\n        if (isOnEdge.current) {\n            onReachEdge?.(pageIndex.current);\n            reloadPagesDebounce?.(pageIndex.current);\n        }\n        else if (isNearEdge.current) {\n            reloadPagesDebounce?.(pageIndex.current);\n            onReachNearEdge?.(pageIndex.current);\n        }\n        scrollViewProps?.onMomentumScrollEnd?.(event);\n    }, [scrollViewProps?.onMomentumScrollEnd, onReachEdge, onReachNearEdge, reloadPagesDebounce]);\n    const onScrollBeginDrag = useCallback(() => {\n        scrolledByUser.current = true;\n    }, []);\n    const style = useMemo(() => {\n        return { height: pageHeight };\n    }, [pageHeight]);\n    return (<RecyclerListView \n    // @ts-expect-error\n    ref={listRef} isHorizontal rowRenderer={renderItem} dataProvider={dataProvider} layoutProvider={layoutProvider.current} extendedState={extendedState} initialRenderIndex={initialPageIndex} renderAheadOffset={5 * pageWidth} onScroll={onScroll} style={style} scrollViewProps={{\n            pagingEnabled: true,\n            bounces: false,\n            ...scrollViewProps,\n            onScrollBeginDrag,\n            onMomentumScrollEnd\n        }}/>);\n};\nexport default forwardRef(InfiniteList);\n"
    ],
    "mappings": "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"
  },
  "metadata": {},
  "sourceType": "module"
}
