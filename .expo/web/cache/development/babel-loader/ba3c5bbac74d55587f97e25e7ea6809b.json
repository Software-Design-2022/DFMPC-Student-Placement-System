{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { toMarkingFormat } from \"../../interface\";\nimport styleConstructor from \"../style\";\nimport { UpdateSources } from \"../commons\";\nimport CalendarContext from \"./index\";\nimport { getButtonIcon, setDate, setDisabled, shouldAnimateTodayButton, getPositionAnimation, shouldAnimateOpacity, getOpacityAnimation, getTodayDate, getTodayFormatted } from \"./Presenter\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TOP_POSITION = 65;\n\nvar CalendarProvider = function CalendarProvider(props) {\n  var theme = props.theme,\n      date = props.date,\n      _props$showTodayButto = props.showTodayButton,\n      showTodayButton = _props$showTodayButto === void 0 ? false : _props$showTodayButto,\n      todayBottomMargin = props.todayBottomMargin,\n      todayButtonStyle = props.todayButtonStyle,\n      propsStyle = props.style,\n      children = props.children;\n  var style = useRef(styleConstructor(theme));\n\n  var _useState = useState(date),\n      _useState2 = _slicedToArray(_useState, 2),\n      prevDate = _useState2[0],\n      setPrevDate = _useState2[1];\n\n  var _useState3 = useState(date),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentDate = _useState4[0],\n      setCurrentDate = _useState4[1];\n\n  var _useState5 = useState(UpdateSources.CALENDAR_INIT),\n      _useState6 = _slicedToArray(_useState5, 2),\n      updateSource = _useState6[0],\n      setUpdateSource = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isDisabled = _useState8[0],\n      setIsDisabled = _useState8[1];\n\n  var _useState9 = useState(getButtonIcon(date || toMarkingFormat(new XDate()), showTodayButton)),\n      _useState10 = _slicedToArray(_useState9, 2),\n      buttonIcon = _useState10[0],\n      setButtonIcon = _useState10[1];\n\n  var buttonY = useRef(new Animated.Value(todayBottomMargin ? -todayBottomMargin : -TOP_POSITION));\n  var opacity = useRef(new Animated.Value(1));\n  var wrapperStyle = useMemo(function () {\n    return [style.current.contextWrapper, propsStyle];\n  }, [style, propsStyle]);\n  useEffect(function () {\n    if (date) {\n      _setDate(date, UpdateSources.PROP_UPDATE);\n    }\n  }, [date]);\n  useEffect(function () {\n    animateTodayButton(currentDate);\n  }, [todayBottomMargin, currentDate]);\n\n  var _setDate = function _setDate(date, updateSource) {\n    var updateState = function updateState(buttonIcon) {\n      setPrevDate(currentDate);\n      setCurrentDate(date);\n      setUpdateSource(updateSource);\n      setButtonIcon(buttonIcon);\n    };\n\n    setDate(props, date, currentDate, updateState, updateSource);\n  };\n\n  var _setDisabled = function _setDisabled(disabled) {\n    var updateState = function updateState(disabled) {\n      setIsDisabled(disabled);\n      animateOpacity(disabled);\n    };\n\n    setDisabled(showTodayButton, disabled, isDisabled, updateState);\n  };\n\n  var contextValue = useMemo(function () {\n    return {\n      date: currentDate,\n      prevDate: prevDate,\n      updateSource: updateSource,\n      setDate: _setDate,\n      setDisabled: _setDisabled\n    };\n  }, [currentDate, prevDate, updateSource]);\n\n  var animateTodayButton = function animateTodayButton(date) {\n    if (shouldAnimateTodayButton(props)) {\n      var animationData = getPositionAnimation(date, todayBottomMargin);\n      Animated.spring(buttonY.current, _objectSpread({}, animationData)).start();\n    }\n  };\n\n  var animateOpacity = function animateOpacity(disabled) {\n    if (shouldAnimateOpacity(props)) {\n      var animationData = getOpacityAnimation(props, disabled);\n      Animated.timing(opacity.current, _objectSpread({}, animationData)).start();\n    }\n  };\n\n  var onTodayPress = useCallback(function () {\n    _setDate(getTodayDate(), UpdateSources.TODAY_PRESS);\n  }, [_setDate]);\n\n  var renderTodayButton = function renderTodayButton() {\n    var today = getTodayFormatted();\n    return _jsx(Animated.View, {\n      style: [style.current.todayButtonContainer, {\n        transform: [{\n          translateY: buttonY.current\n        }]\n      }],\n      children: _jsxs(TouchableOpacity, {\n        style: [style.current.todayButton, todayButtonStyle],\n        onPress: onTodayPress,\n        disabled: isDisabled,\n        children: [_jsx(Animated.Image, {\n          style: [style.current.todayButtonImage, {\n            opacity: opacity.current\n          }],\n          source: buttonIcon\n        }), _jsx(Animated.Text, {\n          allowFontScaling: false,\n          style: [style.current.todayButtonText, {\n            opacity: opacity.current\n          }],\n          children: today\n        })]\n      })\n    });\n  };\n\n  return _jsxs(CalendarContext.Provider, {\n    value: contextValue,\n    children: [_jsx(View, {\n      style: wrapperStyle,\n      children: children\n    }), showTodayButton && renderTodayButton()]\n  });\n};\n\nexport default CalendarProvider;\nCalendarProvider.displayName = 'CalendarProvider';\nCalendarProvider.propTypes = {\n  date: PropTypes.any.isRequired,\n  onDateChanged: PropTypes.func,\n  onMonthChange: PropTypes.func,\n  showTodayButton: PropTypes.bool,\n  todayBottomMargin: PropTypes.number,\n  todayButtonStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  disabledOpacity: PropTypes.number\n};","map":{"version":3,"names":["PropTypes","XDate","React","useEffect","useRef","useState","useCallback","useMemo","toMarkingFormat","styleConstructor","UpdateSources","CalendarContext","getButtonIcon","setDate","setDisabled","shouldAnimateTodayButton","getPositionAnimation","shouldAnimateOpacity","getOpacityAnimation","getTodayDate","getTodayFormatted","TOP_POSITION","CalendarProvider","props","theme","date","showTodayButton","todayBottomMargin","todayButtonStyle","propsStyle","style","children","prevDate","setPrevDate","currentDate","setCurrentDate","CALENDAR_INIT","updateSource","setUpdateSource","isDisabled","setIsDisabled","buttonIcon","setButtonIcon","buttonY","Animated","Value","opacity","wrapperStyle","current","contextWrapper","_setDate","PROP_UPDATE","animateTodayButton","updateState","_setDisabled","disabled","animateOpacity","contextValue","animationData","spring","start","timing","onTodayPress","TODAY_PRESS","renderTodayButton","today","todayButtonContainer","transform","translateY","todayButton","todayButtonImage","todayButtonText","displayName","propTypes","any","isRequired","onDateChanged","func","onMonthChange","bool","number","oneOfType","object","array","disabledOpacity"],"sources":["D:/repos/DFMPC-Student-Placement-System/node_modules/react-native-calendars/src/expandableCalendar/Context/Provider.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport { Animated, TouchableOpacity, View } from 'react-native';\nimport { toMarkingFormat } from '../../interface';\nimport styleConstructor from '../style';\nimport { UpdateSources } from '../commons';\nimport CalendarContext from './index';\nimport { getButtonIcon, setDate, setDisabled, shouldAnimateTodayButton, getPositionAnimation, shouldAnimateOpacity, getOpacityAnimation, getTodayDate, getTodayFormatted } from './Presenter';\nconst TOP_POSITION = 65;\n/**\n * @description: Calendar context provider component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst CalendarProvider = (props) => {\n    const { theme, date, showTodayButton = false, todayBottomMargin, todayButtonStyle, style: propsStyle, children } = props;\n    const style = useRef(styleConstructor(theme));\n    const [prevDate, setPrevDate] = useState(date);\n    const [currentDate, setCurrentDate] = useState(date);\n    const [updateSource, setUpdateSource] = useState(UpdateSources.CALENDAR_INIT);\n    const [isDisabled, setIsDisabled] = useState(false);\n    const [buttonIcon, setButtonIcon] = useState(getButtonIcon(date || toMarkingFormat(new XDate()), showTodayButton));\n    const buttonY = useRef(new Animated.Value(todayBottomMargin ? -todayBottomMargin : -TOP_POSITION));\n    const opacity = useRef(new Animated.Value(1));\n    const wrapperStyle = useMemo(() => {\n        return [style.current.contextWrapper, propsStyle];\n    }, [style, propsStyle]);\n    useEffect(() => {\n        if (date) {\n            _setDate(date, UpdateSources.PROP_UPDATE);\n        }\n    }, [date]);\n    useEffect(() => {\n        animateTodayButton(currentDate);\n    }, [todayBottomMargin, currentDate]);\n    const _setDate = (date, updateSource) => {\n        const updateState = (buttonIcon) => {\n            setPrevDate(currentDate);\n            setCurrentDate(date);\n            setUpdateSource(updateSource);\n            setButtonIcon(buttonIcon);\n        };\n        setDate(props, date, currentDate, updateState, updateSource);\n    };\n    const _setDisabled = (disabled) => {\n        const updateState = (disabled) => {\n            setIsDisabled(disabled);\n            animateOpacity(disabled);\n        };\n        setDisabled(showTodayButton, disabled, isDisabled, updateState);\n    };\n    const contextValue = useMemo(() => {\n        return {\n            date: currentDate,\n            prevDate: prevDate,\n            updateSource: updateSource,\n            setDate: _setDate,\n            setDisabled: _setDisabled\n        };\n    }, [currentDate, prevDate, updateSource]);\n    const animateTodayButton = (date) => {\n        if (shouldAnimateTodayButton(props)) {\n            const animationData = getPositionAnimation(date, todayBottomMargin);\n            Animated.spring(buttonY.current, {\n                ...animationData\n            }).start();\n        }\n    };\n    const animateOpacity = (disabled) => {\n        if (shouldAnimateOpacity(props)) {\n            const animationData = getOpacityAnimation(props, disabled);\n            Animated.timing(opacity.current, {\n                ...animationData\n            }).start();\n        }\n    };\n    const onTodayPress = useCallback(() => {\n        _setDate(getTodayDate(), UpdateSources.TODAY_PRESS);\n    }, [_setDate]);\n    const renderTodayButton = () => {\n        const today = getTodayFormatted();\n        return (<Animated.View style={[style.current.todayButtonContainer, { transform: [{ translateY: buttonY.current }] }]}>\n        <TouchableOpacity style={[style.current.todayButton, todayButtonStyle]} onPress={onTodayPress} disabled={isDisabled}>\n          <Animated.Image style={[style.current.todayButtonImage, { opacity: opacity.current }]} source={buttonIcon}/>\n          <Animated.Text allowFontScaling={false} style={[style.current.todayButtonText, { opacity: opacity.current }]}>\n            {today}\n          </Animated.Text>\n        </TouchableOpacity>\n      </Animated.View>);\n    };\n    return (<CalendarContext.Provider value={contextValue}>\n      <View style={wrapperStyle}>{children}</View>\n      {showTodayButton && renderTodayButton()}\n    </CalendarContext.Provider>);\n};\nexport default CalendarProvider;\nCalendarProvider.displayName = 'CalendarProvider';\nCalendarProvider.propTypes = {\n    date: PropTypes.any.isRequired,\n    onDateChanged: PropTypes.func,\n    onMonthChange: PropTypes.func,\n    showTodayButton: PropTypes.bool,\n    todayBottomMargin: PropTypes.number,\n    todayButtonStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    disabledOpacity: PropTypes.number\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}