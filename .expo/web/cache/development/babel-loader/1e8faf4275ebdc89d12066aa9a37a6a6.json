{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { StatusBar } from \"expo-status-bar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport Login from \"./Screens/Login\";\nimport Dashboard from \"./Screens/Dashboard\";\nimport Schedule from \"./Screens/Schedule\";\nimport CalendarView from \"./Screens/CalendarView\";\nimport SettingsView from \"./Screens/Settings\";\nimport EmergencyProtocols from \"./Screens/EmergencyProtocols\";\nimport DayAgenda from \"./Screens/DayAgenda\";\nimport EmergencyPage from \"./Screens/EmergencyPage\";\nimport Microsoft from \"./Screens/MicrosoftLogin\";\nimport EventsCalendar from \"./Screens/EventsCalendar\";\nimport { PageLayout } from \"./Screens/components/PageLayout\";\nimport { AuthenticatedTemplate, UnauthenticatedTemplate } from \"@azure/msal-react\";\nimport { loginRequest } from \"./authConfig\";\nimport Button from \"react-bootstrap/Button\";\nimport { ProfileData } from \"./Screens/components/ProfileData\";\nimport { callMsGraph } from \"./Screens/graph\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\n\nfunction ProfileContent() {\n  var _useMsal = useMsal(),\n      instance = _useMsal.instance,\n      accounts = _useMsal.accounts;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      graphData = _useState2[0],\n      setGraphData = _useState2[1];\n\n  var name = accounts[0] && accounts[0].name;\n\n  function RequestProfileData() {\n    var request = _objectSpread(_objectSpread({}, loginRequest), {}, {\n      account: accounts[0]\n    });\n\n    instance.acquireTokenSilent(request).then(function (response) {\n      callMsGraph(response.accessToken).then(function (response) {\n        return setGraphData(response);\n      });\n    }).catch(function (e) {\n      instance.acquireTokenPopup(request).then(function (response) {\n        callMsGraph(response.accessToken).then(function (response) {\n          return setGraphData(response);\n        });\n      });\n    });\n  }\n\n  return _jsxs(_Fragment, {\n    children: [_jsxs(\"h5\", {\n      className: \"card-title\",\n      children: [\"Welcome \", name]\n    }), graphData ? _jsx(ProfileData, {\n      graphData: graphData\n    }) : _jsx(Button, {\n      variant: \"secondary\",\n      onClick: RequestProfileData,\n      children: \"Request Profile Information\"\n    })]\n  });\n}\n\n;\n\nfunction App() {\n  return _jsxs(PageLayout, {\n    children: [_jsx(AuthenticatedTemplate, {\n      children: _jsx(ProfileContent, {})\n    }), _jsx(UnauthenticatedTemplate, {\n      children: _jsx(\"p\", {\n        children: \"You are not signed in! Please sign in.\"\n      })\n    })]\n  });\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#00ffff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nexport default App;","map":{"version":3,"names":["StatusBar","NavigationContainer","createNativeStackNavigator","Login","Dashboard","Schedule","CalendarView","SettingsView","EmergencyProtocols","DayAgenda","EmergencyPage","Microsoft","EventsCalendar","PageLayout","AuthenticatedTemplate","UnauthenticatedTemplate","loginRequest","Button","ProfileData","callMsGraph","Stack","ProfileContent","useMsal","instance","accounts","useState","graphData","setGraphData","name","RequestProfileData","request","account","acquireTokenSilent","then","response","accessToken","catch","e","acquireTokenPopup","App","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent"],"sources":["C:/Users/nokno/OneDrive/Documents/GitHub/DFMPC-Student-Placement-System/App.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport { StyleSheet, Text, View } from \"react-native\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\r\nimport Login from \"./Screens/Login\";\r\nimport Dashboard from \"./Screens/Dashboard\";\r\nimport Schedule from \"./Screens/Schedule\";\r\nimport CalendarView from \"./Screens/CalendarView\";\r\nimport SettingsView from \"./Screens/Settings\";\r\nimport EmergencyProtocols from \"./Screens/EmergencyProtocols\";\r\nimport DayAgenda from \"./Screens/DayAgenda\";\r\nimport EmergencyPage from \"./Screens/EmergencyPage\";\r\nimport Microsoft from \"./Screens/MicrosoftLogin\";\r\n\r\nimport EventsCalendar from \"./Screens/EventsCalendar\";\r\nimport { PageLayout } from \"./Screens/components/PageLayout\";\r\nimport { AuthenticatedTemplate, UnauthenticatedTemplate } from \"@azure/msal-react\";\r\nimport { loginRequest } from \"./authConfig\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { ProfileData } from \"./Screens/components/ProfileData\";\r\nimport { callMsGraph } from \"./Screens/graph\";\r\nconst Stack = createNativeStackNavigator();\r\n\r\nfunction ProfileContent() {\r\n  const { instance, accounts } = useMsal();\r\n  const [graphData, setGraphData] = useState(null);\r\n\r\n  const name = accounts[0] && accounts[0].name;\r\n\r\n  function RequestProfileData() {\r\n      const request = {\r\n          ...loginRequest,\r\n          account: accounts[0]\r\n      };\r\n\r\n      // Silently acquires an access token which is then attached to a request for Microsoft Graph data\r\n      instance.acquireTokenSilent(request).then((response) => {\r\n          callMsGraph(response.accessToken).then(response => setGraphData(response));\r\n      }).catch((e) => {\r\n          instance.acquireTokenPopup(request).then((response) => {\r\n              callMsGraph(response.accessToken).then(response => setGraphData(response));\r\n          });\r\n      });\r\n  }\r\n\r\n  return (\r\n      <>\r\n          <h5 className=\"card-title\">Welcome {name}</h5>\r\n          {graphData ? \r\n              <ProfileData graphData={graphData} />\r\n              :\r\n              <Button variant=\"secondary\" onClick={RequestProfileData}>Request Profile Information</Button>\r\n          }\r\n      </>\r\n  );\r\n};\r\n\r\n\r\nfunction App() {\r\n  // This is the main function that will be called when the app is loaded\r\n  // return (\r\n  //   <NavigationContainer>\r\n  //     <Stack.Navigator>\r\n  //       {\r\n  //         <Stack.Screen\r\n  //           options={{ headerShown: false }}\r\n  //           name=\"Login\"\r\n  //           component={Login}\r\n  //         />\r\n  //       }\r\n  //       <Stack.Screen\r\n  //         name=\"Dashboard\"\r\n  //         component={Dashboard}\r\n  //         options={{ headerShown: false }}\r\n  //       />\r\n  //       <Stack.Screen name=\"Schedule\" component={Schedule} />\r\n  //       <Stack.Screen name=\"CalendarView\" component={CalendarView} />\r\n  //       <Stack.Screen\r\n  //         name=\"SettingsView\"\r\n  //         component={SettingsView}\r\n  //         options={{ headerShown: false }}\r\n  //       />\r\n  //       <Stack.Screen\r\n  //         name=\"EmergencyProtocols\"\r\n  //         component={EmergencyProtocols}\r\n  //       />\r\n  //       <Stack.Screen name=\"DayAgenda\" component={DayAgenda} />\r\n  //       <Stack.Screen name=\"EmergencyPage\" component={EmergencyPage} />\r\n  //       <Stack.Screen name=\"EventsCalendar\" component={EventsCalendar} />\r\n  //     </Stack.Navigator>\r\n  //   </NavigationContainer>\r\n  // );\r\n\r\n  return (\r\n    <PageLayout>\r\n          <AuthenticatedTemplate>\r\n              <ProfileContent />\r\n          </AuthenticatedTemplate>\r\n          <UnauthenticatedTemplate>\r\n              <p>You are not signed in! Please sign in.</p>\r\n          </UnauthenticatedTemplate>\r\n      </PageLayout>\r\n);\r\n}\r\n\r\n//styles for the app\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#00ffff\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\nexport default App;\r\n"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,iBAA1B;;;;AAEA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,0BAAT,QAA2C,gCAA3C;AACA,OAAOC,KAAP;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP;AACA,OAAOC,YAAP;AACA,OAAOC,kBAAP;AACA,OAAOC,SAAP;AACA,OAAOC,aAAP;AACA,OAAOC,SAAP;AAEA,OAAOC,cAAP;AACA,SAASC,UAAT;AACA,SAASC,qBAAT,EAAgCC,uBAAhC,QAA+D,mBAA/D;AACA,SAASC,YAAT;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,WAAT;AACA,SAASC,WAAT;;;;AACA,IAAMC,KAAK,GAAGlB,0BAA0B,EAAxC;;AAEA,SAASmB,cAAT,GAA0B;EACxB,eAA+BC,OAAO,EAAtC;EAAA,IAAQC,QAAR,YAAQA,QAAR;EAAA,IAAkBC,QAAlB,YAAkBA,QAAlB;;EACA,gBAAkCC,QAAQ,CAAC,IAAD,CAA1C;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,YAAlB;;EAEA,IAAMC,IAAI,GAAGJ,QAAQ,CAAC,CAAD,CAAR,IAAeA,QAAQ,CAAC,CAAD,CAAR,CAAYI,IAAxC;;EAEA,SAASC,kBAAT,GAA8B;IAC1B,IAAMC,OAAO,mCACNd,YADM;MAETe,OAAO,EAAEP,QAAQ,CAAC,CAAD;IAFR,EAAb;;IAMAD,QAAQ,CAACS,kBAAT,CAA4BF,OAA5B,EAAqCG,IAArC,CAA0C,UAACC,QAAD,EAAc;MACpDf,WAAW,CAACe,QAAQ,CAACC,WAAV,CAAX,CAAkCF,IAAlC,CAAuC,UAAAC,QAAQ;QAAA,OAAIP,YAAY,CAACO,QAAD,CAAhB;MAAA,CAA/C;IACH,CAFD,EAEGE,KAFH,CAES,UAACC,CAAD,EAAO;MACZd,QAAQ,CAACe,iBAAT,CAA2BR,OAA3B,EAAoCG,IAApC,CAAyC,UAACC,QAAD,EAAc;QACnDf,WAAW,CAACe,QAAQ,CAACC,WAAV,CAAX,CAAkCF,IAAlC,CAAuC,UAAAC,QAAQ;UAAA,OAAIP,YAAY,CAACO,QAAD,CAAhB;QAAA,CAA/C;MACH,CAFD;IAGH,CAND;EAOH;;EAED,OACI;IAAA,WACI;MAAI,SAAS,EAAC,YAAd;MAAA,uBAAoCN,IAApC;IAAA,EADJ,EAEKF,SAAS,GACN,KAAC,WAAD;MAAa,SAAS,EAAEA;IAAxB,EADM,GAGN,KAAC,MAAD;MAAQ,OAAO,EAAC,WAAhB;MAA4B,OAAO,EAAEG,kBAArC;MAAA;IAAA,EALR;EAAA,EADJ;AAUD;;AAAA;;AAGD,SAASU,GAAT,GAAe;EAmCb,OACE,MAAC,UAAD;IAAA,WACM,KAAC,qBAAD;MAAA,UACI,KAAC,cAAD;IADJ,EADN,EAIM,KAAC,uBAAD;MAAA,UACI;QAAA;MAAA;IADJ,EAJN;EAAA,EADF;AAUD;;AAGD,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;EAC/BC,SAAS,EAAE;IACTC,IAAI,EAAE,CADG;IAETC,eAAe,EAAE,SAFR;IAGTC,UAAU,EAAE,QAHH;IAITC,cAAc,EAAE;EAJP;AADoB,CAAlB,CAAf;AAQA,eAAeR,GAAf"},"metadata":{},"sourceType":"module"}