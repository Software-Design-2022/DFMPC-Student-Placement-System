{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Calendar, Agenda } from \"react-native-calendars\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport LogBox from \"react-native-web/dist/exports/LogBox\";\nimport { Card, Avatar } from \"react-native-paper\";\nimport { firebase, db } from \"../firebase\";\nimport { getCurrentDate } from \"../HelperFunctions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar days = \"\";\nvar initialDate = getCurrentDate();\n\nfunction getSchedule(onReceiveList) {\n  var schedules, snapshot;\n  return _regeneratorRuntime.async(function getSchedule$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          schedules = [];\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.firestore().collection(\"schedules\").where(\"student_id\", \"==\", authUserID).get().then(function (querySnapshot) {\n            querySnapshot.forEach(function (doc) {\n              schedules.push({\n                key: schedules.length + 1,\n                student_id: doc.data().student_id,\n                SpecialtyName: doc.data().SpecialtyName,\n                hospital_ID: doc.data().hospital_id,\n                specialty_duration: doc.data().specialty_duration,\n                start: doc.data().start_date,\n                end: doc.data().end_date,\n                specialty_id: doc.data().specialty_id\n              });\n            });\n          }));\n\n        case 3:\n          snapshot = _context.sent;\n          onReceiveList(schedules);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nLogBox.ignoreLogs([\"Setting a timer\"]);\n\nvar AgendaCalendar = function (_React$Component) {\n  _inherits(AgendaCalendar, _React$Component);\n\n  var _super = _createSuper(AgendaCalendar);\n\n  function AgendaCalendar(props) {\n    var _this;\n\n    _classCallCheck(this, AgendaCalendar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      items: {},\n      events: []\n    };\n    return _this;\n  }\n\n  _createClass(AgendaCalendar, [{\n    key: \"render\",\n    value: function render() {\n      return _jsx(Agenda, {\n        theme: {\n          calendarBackground: \"white\",\n          agendaKnobColor: \"rgba(28,56,107,0.9)\",\n          backgroundColor: \"rgba(28,56,107,0.9)\",\n          agendaDayTextColor: \"rgba(28,56,107,0.9)\",\n          agendaDayNumColor: \"rgba(28,56,107,0.9)\",\n          agendaTodayColor: \"rgba(28,56,107,0.9)\",\n          monthTextColor: \"rgba(28,56,107,0.9)\",\n          todayBackgroundColor: \"rgba(28,56,107,0.9)\",\n          textSectionTitleColor: \"rgba(28,56,107,0.9)\",\n          selectedDayBackgroundColor: \"rgba(28,56,107,0.9)\",\n          dayTextColor: \"rgba(28,56,107,0.9)\",\n          dotColor: \"green\"\n        },\n        items: this.state.items,\n        selected: new Date(),\n        loadItemsForMonth: this.loadFromList.bind(this),\n        renderItem: this.renderItem.bind(this),\n        renderEmptyDate: this.renderEmptyDate.bind(this),\n        rowHasChanged: this.rowHasChanged.bind(this)\n      });\n    }\n  }, {\n    key: \"loadFromList\",\n    value: function loadFromList() {\n      var _this2 = this;\n\n      var onReceive = function onReceive(data) {\n        _this2.setState({\n          events: data\n        });\n      };\n\n      getSchedule(onReceive);\n      this.state.events.map(function (key, index) {\n        var day = key.start;\n\n        if (!_this2.state.items[day]) {\n          _this2.state.items[day] = [];\n\n          _this2.state.items[day].push({\n            specialty: \"Specialty: \" + key.SpecialtyName,\n            start: \"start day: \" + key.start,\n            end: \"end day: \" + key.end,\n            hospital: \"hospital: \" + \"Baragwanath Hospital\",\n            height: Math.max(50, Math.floor(Math.random() * 150))\n          });\n        }\n\n        var newItems = {};\n        Object.keys(_this2.state.items).forEach(function (key) {\n          newItems[key] = _this2.state.items[key];\n        });\n\n        _this2.setState({\n          items: newItems\n        });\n      });\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item) {\n      return _jsxs(View, {\n        style: [styles.item, {\n          height: item.height\n        }],\n        children: [_jsx(Text, {\n          children: item.specialty\n        }), _jsx(Text, {\n          children: item.start\n        }), _jsx(Text, {\n          children: item.end\n        }), _jsx(Text, {\n          children: item.hospital\n        })]\n      });\n    }\n  }, {\n    key: \"renderEmptyDate\",\n    value: function renderEmptyDate() {\n      return _jsx(View, {\n        style: styles.emptyDate,\n        children: _jsx(Text, {\n          children: \"No Agenda On this day!\"\n        })\n      });\n    }\n  }, {\n    key: \"rowHasChanged\",\n    value: function rowHasChanged(r1, r2) {\n      return r1.name !== r2.name;\n    }\n  }]);\n\n  return AgendaCalendar;\n}(React.Component);\n\nexport { AgendaCalendar as default };\nvar styles = StyleSheet.create({\n  item: {\n    backgroundColor: \"white\",\n    flex: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginRight: 10,\n    marginTop: 17\n  },\n  emptyDate: {\n    height: 15,\n    flex: 1,\n    paddingTop: 30\n  }\n});\nexport { days };","map":{"version":3,"names":["Calendar","Agenda","React","useState","Card","Avatar","firebase","db","getCurrentDate","days","initialDate","getSchedule","onReceiveList","schedules","firestore","collection","where","authUserID","get","then","querySnapshot","forEach","doc","push","key","length","student_id","data","SpecialtyName","hospital_ID","hospital_id","specialty_duration","start","start_date","end","end_date","specialty_id","snapshot","LogBox","ignoreLogs","AgendaCalendar","props","state","items","events","calendarBackground","agendaKnobColor","backgroundColor","agendaDayTextColor","agendaDayNumColor","agendaTodayColor","monthTextColor","todayBackgroundColor","textSectionTitleColor","selectedDayBackgroundColor","dayTextColor","dotColor","Date","loadFromList","bind","renderItem","renderEmptyDate","rowHasChanged","onReceive","setState","map","index","day","specialty","hospital","height","Math","max","floor","random","newItems","Object","keys","item","styles","emptyDate","r1","r2","name","Component","StyleSheet","create","flex","borderRadius","padding","marginRight","marginTop","paddingTop"],"sources":["/home/cipher73/Coding Projects/Sprint3-final/DFMPC-Student-Placement-System/Screens/CalendarView.js"],"sourcesContent":["import { Calendar, Agenda } from \"react-native-calendars\"; // 1.5.3\nimport React, { useState } from \"react\";\nimport { View, StyleSheet, TouchableOpacity, Text, LogBox } from \"react-native\";\nimport { Card, Avatar } from \"react-native-paper\";\nimport { firebase, db } from \"../firebase\";\nimport { getCurrentDate } from \"../HelperFunctions\";\nconst days = \"\";\n\nconst initialDate = getCurrentDate();\nasync function getSchedule(onReceiveList) {\n  const schedules = [];\n  var snapshot = await firebase\n    .firestore()\n    .collection(\"schedules\")\n    .where(\"student_id\", \"==\", authUserID) //@Noku - this is where we are filtering the data to be specific to the student logged in\n    .get()\n    .then((querySnapshot) => {\n      querySnapshot.forEach(function (doc) {\n        //push the required data to the array\n        schedules.push({\n          key: schedules.length + 1,\n          student_id: doc.data().student_id,\n          SpecialtyName: doc.data().SpecialtyName,\n          hospital_ID: doc.data().hospital_id,\n          specialty_duration: doc.data().specialty_duration,\n          start: doc.data().start_date,\n          end: doc.data().end_date,\n          specialty_id: doc.data().specialty_id,\n        });\n      });\n    });\n\n  onReceiveList(schedules);\n}\n\nLogBox.ignoreLogs([\"Setting a timer\"]);\n\nexport default class AgendaCalendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: {},\n      events: [],\n    };\n  }\n\n  render() {\n    return (\n      <Agenda\n        theme={{\n          calendarBackground: \"white\", //agenda background\n          agendaKnobColor: \"rgba(28,56,107,0.9)\", // knob color\n          backgroundColor: \"rgba(28,56,107,0.9)\", // background color below agenda\n          agendaDayTextColor: \"rgba(28,56,107,0.9)\", // day name\n          agendaDayNumColor: \"rgba(28,56,107,0.9)\", // day number\n          agendaTodayColor: \"rgba(28,56,107,0.9)\", // today in list\n          monthTextColor: \"rgba(28,56,107,0.9)\", // name in calendar\n          todayBackgroundColor: \"rgba(28,56,107,0.9)\",\n          textSectionTitleColor: \"rgba(28,56,107,0.9)\",\n          selectedDayBackgroundColor: \"rgba(28,56,107,0.9)\", // calendar sel date\n          dayTextColor: \"rgba(28,56,107,0.9)\", // calendar day\n          dotColor: \"green\", // dots\n        }}\n        items={this.state.items}\n        selected={new Date()}\n        loadItemsForMonth={this.loadFromList.bind(this)}\n        renderItem={this.renderItem.bind(this)}\n        renderEmptyDate={this.renderEmptyDate.bind(this)}\n        rowHasChanged={this.rowHasChanged.bind(this)}\n      />\n    );\n  }\n\n  loadFromList() {\n    const onReceive = (data) => {\n      this.setState({\n        events: data,\n      });\n    };\n    getSchedule(onReceive);\n    this.state.events.map((key, index) => {\n      const day = key.start;\n\n      if (!this.state.items[day]) {\n        this.state.items[day] = [];\n        this.state.items[day].push({\n          specialty: \"Specialty: \" + key.SpecialtyName,\n          start: \"start day: \" + key.start,\n          end: \"end day: \" + key.end,\n          hospital: \"hospital: \" + \"Baragwanath Hospital\",\n          height: Math.max(50, Math.floor(Math.random() * 150)),\n        });\n      }\n      //console.log(this.state.items);\n      const newItems = {};\n      Object.keys(this.state.items).forEach((key) => {\n        newItems[key] = this.state.items[key];\n      });\n      this.setState({\n        items: newItems,\n      });\n    });\n  }\n\n  renderItem(item) {\n    return (\n      <View style={[styles.item, { height: item.height }]}>\n        <Text>{item.specialty}</Text>\n        <Text>{item.start}</Text>\n        <Text>{item.end}</Text>\n        <Text>{item.hospital}</Text>\n      </View>\n    );\n  }\n\n  renderEmptyDate() {\n    return (\n      <View style={styles.emptyDate}>\n        <Text>No Agenda On this day!</Text>\n      </View>\n    );\n  }\n\n  rowHasChanged(r1, r2) {\n    return r1.name !== r2.name;\n  }\n}\n\nconst styles = StyleSheet.create({\n  item: {\n    backgroundColor: \"white\",\n    flex: 1,\n    borderRadius: 5,\n    padding: 10,\n    marginRight: 10,\n    marginTop: 17,\n  },\n  emptyDate: {\n    height: 15,\n    flex: 1,\n    paddingTop: 30,\n  },\n});\n\nexport { days };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}