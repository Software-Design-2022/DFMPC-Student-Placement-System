{
  "ast": null,
  "code": "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport { requireNativeComponent } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useEffect } from \"react-native-web/dist/index\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport \"../global\";\nimport { firebase } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ICON_SIZE = 80;\n\nvar Separator = function Separator() {\n  return _jsx(View, {\n    style: styles.separator\n  });\n};\n\nvar sendToFirestore = function sendToFirestore(text) {\n  firebase.firestore().collection(\"panic_button\").add({\n    Location: [-latitude, longitude],\n    query: text,\n    student_Number: \"123456\",\n    user_FirstName: authname,\n    user_LastName: authlastName\n  }).then(function () {\n    Alert.alert(\"Emergency Message Saved\");\n  });\n};\n\nvar authname = authName;\nvar authlastName = authLastName;\nvar latitude = 20;\nvar longitude = 30;\n\nvar PanicButton = function PanicButton() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      position = _useState4[0],\n      setPosition = _useState4[1];\n\n  var navigation = useNavigation();\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(View, {\n      style: {\n        flex: 1\n      },\n      children: [_jsx(View, {\n        style: {\n          top: 0,\n          backgroundColor: \"rgba(255,255,255,0.8)\",\n          height: 100,\n          zIndex: 1,\n          borderEndWidth: 0,\n          borderEndColor: \"rgba(255,255,255,1)\",\n          borderBottomStartRadius: 100\n        },\n        children: _jsx(View, {\n          style: {\n            margin: 0\n          },\n          children: _jsx(Image, {\n            style: {\n              height: 80,\n              position: \"absolute\",\n              top: 5,\n              left: -160\n            },\n            resizeMode: \"contain\",\n            source: require(\"./images/wits.png\"),\n            blurRadius: 0\n          })\n        })\n      }), _jsx(Separator, {}), _jsx(View, {\n        style: {\n          justifyContent: \"center\",\n          marginBottom: 30\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\",\n            color: \"#f194ff\",\n            textAlign: \"center\"\n          },\n          children: \"Emergency Button Page\"\n        })\n      }), _jsx(Separator, {}), _jsx(View, {\n        style: {\n          marginBottom: 20\n        },\n        children: _jsx(Button, {\n          title: \"Protocols\",\n          onPress: function onPress() {\n            return navigation.navigate(\"Protocols\");\n          }\n        })\n      }), _jsx(Separator, {}), _jsx(View, {\n        style: {\n          padding: 10,\n          marginBottom: 20\n        },\n        children: _jsx(TextInput, {\n          style: {\n            height: 90,\n            textAlign: \"center\",\n            backgroundColor: \"lightblue\"\n          },\n          placeholder: \"Type emergency message here!\",\n          onChangeText: function onChangeText(newText) {\n            return setText(newText);\n          },\n          defaultValue: text\n        })\n      }), _jsx(Separator, {}), _jsx(View, {\n        style: {\n          marginBottom: 20\n        },\n        children: _jsx(Button, {\n          title: \"Send Emergency message\",\n          color: \"#f194ff\",\n          onPress: function onPress() {\n            return sendToFirestore(text);\n          }\n        })\n      }), _jsx(Separator, {}), _jsx(View, {})]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 50,\n    flex: 1,\n    justifyContent: \"center\",\n    marginHorizontal: 16\n  },\n  title: {\n    textAlign: \"center\",\n    marginVertical: 8\n  },\n  fixToText: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  separator: {\n    marginVertical: 8,\n    borderBottomColor: \"#737373\",\n    borderBottomWidth: StyleSheet.hairlineWidth\n  },\n  map: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  },\n  MapStyle: {\n    flex: 1,\n    margin: 20,\n    marginBottom: 90,\n    justifyContent: \"center\"\n  }\n});\nexport default PanicButton;",
  "map": {
    "version": 3,
    "names": [
      "React",
      "useState",
      "requireNativeComponent",
      "useEffect",
      "useNavigation",
      "firebase",
      "ICON_SIZE",
      "Separator",
      "styles",
      "separator",
      "sendToFirestore",
      "text",
      "firestore",
      "collection",
      "add",
      "Location",
      "latitude",
      "longitude",
      "query",
      "student_Number",
      "user_FirstName",
      "authname",
      "user_LastName",
      "authlastName",
      "then",
      "Alert",
      "alert",
      "authName",
      "authLastName",
      "PanicButton",
      "setText",
      "position",
      "setPosition",
      "navigation",
      "container",
      "flex",
      "top",
      "backgroundColor",
      "height",
      "zIndex",
      "borderEndWidth",
      "borderEndColor",
      "borderBottomStartRadius",
      "margin",
      "left",
      "require",
      "justifyContent",
      "marginBottom",
      "fontSize",
      "fontWeight",
      "color",
      "textAlign",
      "navigate",
      "padding",
      "newText",
      "StyleSheet",
      "create",
      "marginTop",
      "marginHorizontal",
      "title",
      "marginVertical",
      "fixToText",
      "flexDirection",
      "borderBottomColor",
      "borderBottomWidth",
      "hairlineWidth",
      "map",
      "bottom",
      "right",
      "MapStyle"
    ],
    "sources": [
      "/home/cipher73/Coding Projects/SDproject/DFMPC-Student-Placement-System/Screens/PanicButton.js"
    ],
    "sourcesContent": [
      "import React, { useState } from \"react\";\nimport {\n  requireNativeComponent,\n  StyleSheet,\n  Button,\n  View,\n  Image,\n  TouchableHighlight,\n  SafeAreaView,\n  Text,\n  Alert,\n  TextInput,\n  Platform,\n  useEffect,\n} from \"react-native\";\nimport { useNavigation } from \"@react-navigation/core\";\n/* import MapView from \"react-native-maps\";\nimport { Marker } from \"react-native-maps\"; */\nimport \"../global\";\nimport { firebase } from \"../firebase\";\n//import Getlocation from \"react-native-geolocation-service\";\n\nconst ICON_SIZE = 80;\nconst Separator = () => <View style={styles.separator} />;\n\n// this function will receive the text currently entered\n// it will the send it to the database\n// saves location amd user info\nconst sendToFirestore = (text) => {\n  firebase\n    .firestore()\n    .collection(\"panic_button\")\n    .add({\n      Location: [-latitude, longitude],\n      query: text,\n      student_Number: \"123456\",\n      user_FirstName: authname,\n      user_LastName: authlastName,\n    })\n    .then(() => {\n      Alert.alert(\"Emergency Message Saved\");\n    });\n};\nconst authname = authName;\nconst authlastName = authLastName;\nconst latitude = 20;\nconst longitude = 30;\nconst PanicButton = () => {\n  const [text, setText] = useState(\"\");\n  const [position, setPosition] = useState(null);\n  const navigation = useNavigation();\n\n  /*  Getlocation.getCurrentPosition(\n    (pos)=>{\n      setPosition(\n        pos.coords)\n    },\n    (error)=>{\n      Alert.alert(error.message)\n    },\n    {enableHighAccuracy:true,timeout:15000,maximumAge:10000}\n  )*/\n\n  return (\n    <SafeAreaView style={styles.container}>\n       <View style={{ flex: 1}}>\n        <View\n        style={{\n          \n          top: 0,\n          backgroundColor: \"rgba(255,255,255,0.8)\",\n          height: 100,\n          zIndex: 1,\n          borderEndWidth: 0,\n          borderEndColor: \"rgba(255,255,255,1)\",\n          borderBottomStartRadius: 100,\n          \n        }}\n      >\n        <View style={{margin:0}}>\n          <Image\n\n            style={{ height: 80, position: \"absolute\", top: 5, left: -160 }}\n            resizeMode=\"contain\"\n            source={require(\"./images/wits.png\")}\n            blurRadius={0}\n          />\n        </View>\n        \n      </View>\n     \n      <Separator/>\n\n  \n\n      <View style={{ justifyContent: \"center\", marginBottom: 30 }}>\n        <Text\n          style={{\n            fontSize: 20,\n            fontWeight: \"bold\",\n            color: \"#f194ff\",\n            textAlign: \"center\",\n          }}\n        >\n          Emergency Button Page\n        </Text>\n      </View>\n      <Separator />\n      <View style={{ marginBottom: 20 }}>\n        <Button\n          // when clicked it will navigate to the Protocols page\n          // where user can have a look at the available protocols\n          title=\"Protocols\"\n          onPress={() => navigation.navigate(\"Protocols\")}\n        />\n      </View>\n      <Separator />\n\n      <View style={{ padding: 10, marginBottom: 20 }}>\n        <TextInput\n          // user can type their emergency message\n          style={{\n            height: 90,\n            textAlign: \"center\",\n            backgroundColor: \"lightblue\",\n          }}\n          placeholder=\"Type emergency message here!\"\n          onChangeText={(newText) => setText(newText)}\n          defaultValue={text}\n        />\n      </View>\n      <Separator />\n      <View style={{ marginBottom: 20 }}>\n        <Button\n          title=\"Send Emergency message\"\n          color=\"#f194ff\"\n          // when clicked data is send to firestore database\n          onPress={() => sendToFirestore(text)}\n        />\n      </View>\n      <Separator />\n      {/*     <View style={styles.MapStyle}>\n        <MapView\n          // show a mapview with the given longitude and latitude\n          style={styles.map}\n          region={{\n            latitude: -26.18471,\n            longitude: 28.026791,\n            latitudeDelta: 0.0922,\n            longitudeDelta: 0.0421,\n          }}\n          // show a mapview with the given region\n        ></MapView>\n\n        <Marker\n          // mark the location\n          coordinate={{\n            latitude: -26.18471,\n            longitude: 28.026791,\n          }}\n          // image={{uri:\"./images/pin.png\"}}\n        />\n      </View> */}\n      <View>{/* <Text>Display Current Location of device</Text> */}</View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginTop: 50,\n    flex: 1,\n    justifyContent: \"center\",\n    marginHorizontal: 16,\n  },\n  title: {\n    textAlign: \"center\",\n    marginVertical: 8,\n  },\n  fixToText: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  separator: {\n    \n    marginVertical: 8,\n    borderBottomColor: \"#737373\",\n    borderBottomWidth: StyleSheet.hairlineWidth,\n  },\n  map: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  },\n  MapStyle: {\n    flex: 1,\n    margin: 20,\n    marginBottom: 90,\n\n    justifyContent: \"center\",\n  },\n});\n\nexport default PanicButton;\n"
    ],
    "mappings": "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"
  },
  "metadata": {},
  "sourceType": "module"
}
