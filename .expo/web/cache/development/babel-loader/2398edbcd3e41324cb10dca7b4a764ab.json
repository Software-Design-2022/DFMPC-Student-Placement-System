{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"theme\", \"horizontal\", \"initialPosition\", \"firstDay\", \"disablePan\", \"disableWeekScroll\", \"openThreshold\", \"closeThreshold\", \"onCalendarToggled\", \"closeOnDayPress\", \"onDayPress\", \"style\", \"calendarStyle\", \"allowShadow\", \"hideKnob\", \"hideArrows\", \"onPressArrowLeft\", \"onPressArrowRight\", \"renderArrow\", \"rightArrowImageSource\", \"leftArrowImageSource\", \"markedDates\", \"testID\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport first from 'lodash/first';\nimport values from 'lodash/values';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport AccessibilityInfo from \"react-native-web/dist/exports/AccessibilityInfo\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { CALENDAR_KNOB } from \"../testIDs\";\nimport { page } from \"../dateutils\";\nimport { parseDate, toMarkingFormat } from \"../interface\";\nimport styleConstructor, { HEADER_HEIGHT, KNOB_CONTAINER_HEIGHT } from \"./style\";\nimport WeekDaysNames from \"../commons/WeekDaysNames\";\nimport Calendar from \"../calendar\";\nimport CalendarList from \"../calendar-list\";\nimport Week from \"./week\";\nimport WeekCalendar from \"./WeekCalendar\";\nimport Context from \"./Context\";\nimport constants from \"../commons/constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar commons = require(\"./commons\");\n\nvar updateSources = commons.UpdateSources;\nvar Positions;\n\n(function (Positions) {\n  Positions[\"CLOSED\"] = \"closed\";\n  Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\n\nvar SPEED = 20;\nvar BOUNCINESS = 6;\nvar CLOSED_HEIGHT = 120;\nvar WEEK_HEIGHT = 46;\nvar DAY_NAMES_PADDING = 24;\nvar PAN_GESTURE_THRESHOLD = 30;\n\nvar LEFT_ARROW = require(\"../calendar/img/previous.png\");\n\nvar RIGHT_ARROW = require(\"../calendar/img/next.png\");\n\nvar headerStyleOverride = {\n  stylesheet: {\n    calendar: {\n      header: {\n        week: {\n          marginTop: 7,\n          marginBottom: -4,\n          flexDirection: 'row',\n          justifyContent: 'space-around'\n        }\n      }\n    }\n  }\n};\n\nvar ExpandableCalendar = function ExpandableCalendar(props) {\n  var theme = props.theme,\n      _props$horizontal = props.horizontal,\n      horizontal = _props$horizontal === void 0 ? true : _props$horizontal,\n      _props$initialPositio = props.initialPosition,\n      initialPosition = _props$initialPositio === void 0 ? Positions.CLOSED : _props$initialPositio,\n      _props$firstDay = props.firstDay,\n      firstDay = _props$firstDay === void 0 ? 0 : _props$firstDay,\n      disablePan = props.disablePan,\n      disableWeekScroll = props.disableWeekScroll,\n      _props$openThreshold = props.openThreshold,\n      openThreshold = _props$openThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$openThreshold,\n      _props$closeThreshold = props.closeThreshold,\n      closeThreshold = _props$closeThreshold === void 0 ? PAN_GESTURE_THRESHOLD : _props$closeThreshold,\n      onCalendarToggled = props.onCalendarToggled,\n      _props$closeOnDayPres = props.closeOnDayPress,\n      closeOnDayPress = _props$closeOnDayPres === void 0 ? true : _props$closeOnDayPres,\n      onDayPress = props.onDayPress,\n      propsStyle = props.style,\n      calendarStyle = props.calendarStyle,\n      _props$allowShadow = props.allowShadow,\n      allowShadow = _props$allowShadow === void 0 ? true : _props$allowShadow,\n      hideKnob = props.hideKnob,\n      hideArrows = props.hideArrows,\n      onPressArrowLeft = props.onPressArrowLeft,\n      onPressArrowRight = props.onPressArrowRight,\n      renderArrow = props.renderArrow,\n      _props$rightArrowImag = props.rightArrowImageSource,\n      rightArrowImageSource = _props$rightArrowImag === void 0 ? RIGHT_ARROW : _props$rightArrowImag,\n      _props$leftArrowImage = props.leftArrowImageSource,\n      leftArrowImageSource = _props$leftArrowImage === void 0 ? LEFT_ARROW : _props$leftArrowImage,\n      markedDates = props.markedDates,\n      testID = props.testID,\n      others = _objectWithoutProperties(props, _excluded);\n\n  var _useContext = useContext(Context),\n      date = _useContext.date,\n      setDate = _useContext.setDate;\n\n  var initialDate = date;\n\n  var getYear = function getYear(date) {\n    var d = new XDate(date);\n    return d.getFullYear();\n  };\n\n  var getMonth = function getMonth(date) {\n    var d = new XDate(date);\n    return d.getMonth() + 1;\n  };\n\n  var visibleMonth = useRef(getMonth(date));\n  var visibleYear = useRef(getYear(date));\n\n  var isLaterDate = function isLaterDate(date1, date2) {\n    if (date1 && date2) {\n      if (date1.year > getYear(date2)) {\n        return true;\n      }\n\n      if (date1.year === getYear(date2)) {\n        if (date1.month > getMonth(date2)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  var _markedDates = useMemo(function () {\n    return _objectSpread(_objectSpread({}, markedDates), {}, _defineProperty({}, date, {\n      selected: true\n    }));\n  }, [markedDates, date]);\n\n  var getNumberOfWeeksInMonth = function getNumberOfWeeksInMonth(month) {\n    var days = page(parseDate(month), firstDay);\n    return days.length / 7;\n  };\n\n  var numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n  var closedHeight = CLOSED_HEIGHT + (hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n\n  var getOpenHeight = function getOpenHeight() {\n    if (!horizontal) {\n      return Math.max(constants.screenHeight, constants.screenWidth);\n    }\n\n    return CLOSED_HEIGHT + WEEK_HEIGHT * (numberOfWeeks.current - 1) + (hideKnob ? 12 : KNOB_CONTAINER_HEIGHT) + (constants.isAndroid ? 3 : 0);\n  };\n\n  var openHeight = useRef(getOpenHeight());\n  var startHeight = initialPosition === Positions.CLOSED ? closedHeight : openHeight.current;\n\n  var _height = useRef(startHeight);\n\n  var deltaY = useRef(new Animated.Value(startHeight));\n  var headerDeltaY = useRef(new Animated.Value(initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT));\n\n  var _useState = useState(initialPosition || Positions.CLOSED),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      screenReaderEnabled = _useState4[0],\n      setScreenReaderEnabled = _useState4[1];\n\n  var isOpen = useMemo(function () {\n    return position === Positions.OPEN;\n  }, [position]);\n  var wrapper = useRef();\n  var calendar = useRef();\n  var header = useRef();\n  var weekCalendar = useRef();\n  var style = useRef(styleConstructor(theme));\n\n  var themeObject = _extends(headerStyleOverride, theme);\n\n  var _wrapperStyles = useRef({\n    style: {\n      height: startHeight\n    }\n  });\n\n  var _headerStyles = {\n    style: {\n      top: initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT\n    }\n  };\n  var _weekCalendarStyles = {\n    style: {\n      opacity: isOpen ? 0 : 1\n    }\n  };\n  var shouldHideArrows = !horizontal ? true : hideArrows || false;\n\n  var updateNativeStyles = function updateNativeStyles() {\n    var _wrapper$current;\n\n    wrapper == null ? void 0 : (_wrapper$current = wrapper.current) == null ? void 0 : _wrapper$current.setNativeProps(_wrapperStyles.current);\n\n    if (!horizontal) {\n      var _header$current;\n\n      header == null ? void 0 : (_header$current = header.current) == null ? void 0 : _header$current.setNativeProps(_headerStyles);\n    } else {\n      var _weekCalendar$current;\n\n      weekCalendar == null ? void 0 : (_weekCalendar$current = weekCalendar.current) == null ? void 0 : _weekCalendar$current.setNativeProps(_weekCalendarStyles);\n    }\n  };\n\n  var weekDaysStyle = useMemo(function () {\n    var leftPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingLeft;\n    var rightPaddings = calendarStyle == null ? void 0 : calendarStyle.paddingRight;\n    return [style.current.weekDayNames, {\n      paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n      paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n    }];\n  }, [calendarStyle]);\n  var headerStyle = useMemo(function () {\n    return [style.current.header, {\n      height: HEADER_HEIGHT + 10,\n      top: headerDeltaY.current\n    }];\n  }, [headerDeltaY.current]);\n  var weekCalendarStyle = useMemo(function () {\n    return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible];\n  }, [isOpen]);\n  var containerStyle = useMemo(function () {\n    return [allowShadow && style.current.containerShadow, propsStyle];\n  }, [allowShadow, propsStyle]);\n  var wrapperStyle = useMemo(function () {\n    return {\n      height: deltaY.current\n    };\n  }, [deltaY.current]);\n  useEffect(function () {\n    if (AccessibilityInfo) {\n      if (AccessibilityInfo.isScreenReaderEnabled) {\n        AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n      } else if (AccessibilityInfo.fetch) {\n        AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n      }\n    }\n  }, []);\n  useEffect(function () {\n    scrollToDate(date);\n  }, [date]);\n\n  var handleScreenReaderStatus = function handleScreenReaderStatus(screenReaderEnabled) {\n    setScreenReaderEnabled(screenReaderEnabled);\n  };\n\n  var scrollToDate = function scrollToDate(date) {\n    if (!horizontal) {\n      var _calendar$current;\n\n      calendar == null ? void 0 : (_calendar$current = calendar.current) == null ? void 0 : _calendar$current.scrollToDay(new XDate(date), 0, true);\n    } else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n      var _calendar$current2;\n\n      calendar == null ? void 0 : (_calendar$current2 = calendar.current) == null ? void 0 : _calendar$current2.scrollToMonth(date);\n    }\n  };\n\n  var scrollPage = function scrollPage(next) {\n    if (horizontal) {\n      var d = parseDate(date);\n\n      if (isOpen) {\n        d.setDate(1);\n        d.addMonths(next ? 1 : -1);\n      } else {\n        var dayOfTheWeek = d.getDay();\n\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\n          dayOfTheWeek = 7 + dayOfTheWeek;\n        }\n\n        var firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n        d.addDays(firstDayOfWeek);\n      }\n\n      setDate == null ? void 0 : setDate(toMarkingFormat(d), updateSources.PAGE_SCROLL);\n    }\n  };\n\n  var handleMoveShouldSetPanResponder = function handleMoveShouldSetPanResponder(_, gestureState) {\n    if (disablePan) {\n      return false;\n    }\n\n    if (!horizontal && isOpen) {\n      return false;\n    }\n\n    if (position === Positions.CLOSED && gestureState.dy < 0) {\n      return false;\n    }\n\n    return gestureState.dy > 5 || gestureState.dy < -5;\n  };\n\n  var handlePanResponderMove = function handlePanResponderMove(_, gestureState) {\n    _wrapperStyles.current.style.height = Math.max(closedHeight, _height.current + gestureState.dy);\n\n    if (!horizontal) {\n      _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n    } else {\n      if (position === Positions.CLOSED) {\n        _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n      }\n    }\n\n    updateNativeStyles();\n  };\n\n  var handlePanResponderEnd = function handlePanResponderEnd() {\n    _height.current = Number(_wrapperStyles.current.style.height);\n    bounceToPosition();\n  };\n\n  var panResponder = PanResponder.create({\n    onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n    onPanResponderMove: handlePanResponderMove,\n    onPanResponderRelease: handlePanResponderEnd,\n    onPanResponderTerminate: handlePanResponderEnd\n  });\n\n  var bounceToPosition = function bounceToPosition() {\n    var toValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (!disablePan) {\n      var threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n\n      var _isOpen = _height.current >= threshold;\n\n      var newValue = _isOpen ? openHeight.current : closedHeight;\n      deltaY.current.setValue(_height.current);\n      _height.current = toValue || newValue;\n      _isOpen = _height.current >= threshold;\n      Animated.spring(deltaY.current, {\n        toValue: _height.current,\n        speed: SPEED,\n        bounciness: BOUNCINESS,\n        useNativeDriver: false\n      }).start();\n      onCalendarToggled == null ? void 0 : onCalendarToggled(_isOpen);\n      setPosition(function () {\n        return _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN;\n      });\n      closeHeader(_isOpen);\n      resetWeekCalendarOpacity(_isOpen);\n    }\n  };\n\n  var resetWeekCalendarOpacity = function resetWeekCalendarOpacity(isOpen) {\n    _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n    updateNativeStyles();\n  };\n\n  var closeHeader = function closeHeader(isOpen) {\n    headerDeltaY.current.setValue(Number(_headerStyles.style.top));\n\n    if (!horizontal && !isOpen) {\n      Animated.spring(headerDeltaY.current, {\n        toValue: 0,\n        speed: SPEED / 10,\n        bounciness: 1,\n        useNativeDriver: false\n      }).start();\n    }\n  };\n\n  var _onPressArrowLeft = useCallback(function (method, month) {\n    onPressArrowLeft == null ? void 0 : onPressArrowLeft(method, month);\n    scrollPage(false);\n  }, [onPressArrowLeft, scrollPage]);\n\n  var _onPressArrowRight = useCallback(function (method, month) {\n    onPressArrowRight == null ? void 0 : onPressArrowRight(method, month);\n    scrollPage(true);\n  }, [onPressArrowRight, scrollPage]);\n\n  var _onDayPress = useCallback(function (value) {\n    setDate == null ? void 0 : setDate(value.dateString, updateSources.DAY_PRESS);\n\n    if (closeOnDayPress) {\n      setTimeout(function () {\n        if (isOpen) {\n          bounceToPosition(closedHeight);\n        }\n      }, 0);\n    }\n\n    onDayPress == null ? void 0 : onDayPress(value);\n  }, [setDate, onDayPress, closeOnDayPress, isOpen]);\n\n  var onVisibleMonthsChange = useCallback(throttle(function (value) {\n    if (first(value)) {\n      var _first;\n\n      var month = (_first = first(value)) == null ? void 0 : _first.month;\n\n      if (month && visibleMonth.current !== month) {\n        var _first2;\n\n        visibleMonth.current = month;\n        var year = (_first2 = first(value)) == null ? void 0 : _first2.year;\n\n        if (year) {\n          visibleYear.current = year;\n        }\n\n        if (visibleMonth.current !== getMonth(date)) {\n          var next = isLaterDate(first(value), date);\n          scrollPage(next);\n        }\n\n        setTimeout(function () {\n          var _numberOfWeeks = getNumberOfWeeksInMonth(date);\n\n          if (_numberOfWeeks !== numberOfWeeks.current) {\n            numberOfWeeks.current = _numberOfWeeks;\n            openHeight.current = getOpenHeight();\n\n            if (isOpen) {\n              bounceToPosition(openHeight.current);\n            }\n          }\n        }, 0);\n      }\n    }\n  }, 100, {\n    trailing: true,\n    leading: false\n  }), [date, scrollPage]);\n\n  var renderWeekDaysNames = function renderWeekDaysNames() {\n    return _jsx(View, {\n      style: weekDaysStyle,\n      children: _jsx(WeekDaysNames, {\n        firstDay: firstDay,\n        style: style.current.dayHeader\n      })\n    });\n  };\n\n  var renderHeader = function renderHeader() {\n    var monthYear = new XDate(date).toString('MMMM yyyy');\n    return _jsxs(Animated.View, {\n      ref: header,\n      style: headerStyle,\n      pointerEvents: 'none',\n      children: [_jsx(Text, {\n        allowFontScaling: false,\n        style: style.current.headerTitle,\n        children: monthYear\n      }), renderWeekDaysNames()]\n    });\n  };\n\n  var renderWeekCalendar = function renderWeekCalendar() {\n    var WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n    var weekCalendarProps = disableWeekScroll ? undefined : {\n      allowShadow: false\n    };\n    return _jsx(Animated.View, {\n      ref: weekCalendar,\n      style: weekCalendarStyle,\n      pointerEvents: position === Positions.CLOSED ? 'auto' : 'none',\n      children: _jsx(WeekComponent, _objectSpread(_objectSpread(_objectSpread({}, props), weekCalendarProps), {}, {\n        current: date,\n        onDayPress: _onDayPress,\n        style: calendarStyle,\n        hideDayNames: true,\n        accessibilityElementsHidden: true,\n        importantForAccessibility: 'no-hide-descendants'\n      }))\n    });\n  };\n\n  var renderKnob = function renderKnob() {\n    return _jsx(View, {\n      style: style.current.knobContainer,\n      pointerEvents: 'none',\n      testID: testID + \"-knob\",\n      children: _jsx(View, {\n        style: style.current.knob,\n        testID: CALENDAR_KNOB\n      })\n    });\n  };\n\n  var _renderArrow = function _renderArrow(direction) {\n    if (isFunction(renderArrow)) {\n      return renderArrow(direction);\n    }\n\n    return _jsx(Image, {\n      source: direction === 'right' ? rightArrowImageSource : leftArrowImageSource,\n      style: style.current.arrowImage,\n      testID: testID + \"-\" + direction + \"-arrow\"\n    });\n  };\n\n  return _jsx(View, {\n    testID: testID,\n    style: containerStyle,\n    children: screenReaderEnabled ? _jsx(Calendar, _objectSpread(_objectSpread({\n      testID: \"calendar\"\n    }, others), {}, {\n      theme: themeObject,\n      onDayPress: _onDayPress,\n      hideExtraDays: true,\n      renderArrow: _renderArrow\n    })) : _jsxs(Animated.View, _objectSpread(_objectSpread({\n      ref: wrapper,\n      style: wrapperStyle\n    }, panResponder.panHandlers), {}, {\n      children: [_jsx(CalendarList, _objectSpread(_objectSpread({\n        testID: \"calendar\",\n        horizontal: horizontal,\n        firstDay: firstDay,\n        calendarStyle: calendarStyle\n      }, others), {}, {\n        markedDates: _markedDates,\n        theme: themeObject,\n        ref: calendar,\n        current: initialDate,\n        onDayPress: _onDayPress,\n        onVisibleMonthsChange: onVisibleMonthsChange,\n        pagingEnabled: true,\n        scrollEnabled: isOpen,\n        hideArrows: shouldHideArrows,\n        onPressArrowLeft: _onPressArrowLeft,\n        onPressArrowRight: _onPressArrowRight,\n        hideExtraDays: !horizontal && isOpen,\n        renderArrow: _renderArrow,\n        staticHeader: true\n      })), renderWeekCalendar(), !hideKnob && renderKnob(), !horizontal && renderHeader()]\n    }))\n  });\n};\n\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.propTypes = _objectSpread(_objectSpread({}, CalendarList.propTypes), {}, {\n  initialPosition: PropTypes.oneOf(values(Positions)),\n  onCalendarToggled: PropTypes.func,\n  disablePan: PropTypes.bool,\n  hideKnob: PropTypes.bool,\n  leftArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n  rightArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n  allowShadow: PropTypes.bool,\n  disableWeekScroll: PropTypes.bool,\n  openThreshold: PropTypes.number,\n  closeThreshold: PropTypes.number,\n  closeOnDayPress: PropTypes.bool\n});\nExpandableCalendar.defaultProps = {\n  horizontal: true,\n  initialPosition: Positions.CLOSED,\n  firstDay: 0,\n  leftArrowImageSource: LEFT_ARROW,\n  rightArrowImageSource: RIGHT_ARROW,\n  allowShadow: true,\n  openThreshold: PAN_GESTURE_THRESHOLD,\n  closeThreshold: PAN_GESTURE_THRESHOLD,\n  closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;","map":{"version":3,"sources":["C:/Users/callu/Desktop/3rd Year/Software Design Project/App/DFMPC-Student-Placement-System/node_modules/react-native-calendars/src/expandableCalendar/index.js"],"names":["first","values","isFunction","isNumber","throttle","PropTypes","XDate","React","useContext","useRef","useState","useEffect","useCallback","useMemo","CALENDAR_KNOB","page","parseDate","toMarkingFormat","styleConstructor","HEADER_HEIGHT","KNOB_CONTAINER_HEIGHT","WeekDaysNames","Calendar","CalendarList","Week","WeekCalendar","Context","constants","commons","require","updateSources","UpdateSources","Positions","SPEED","BOUNCINESS","CLOSED_HEIGHT","WEEK_HEIGHT","DAY_NAMES_PADDING","PAN_GESTURE_THRESHOLD","LEFT_ARROW","RIGHT_ARROW","headerStyleOverride","stylesheet","calendar","header","week","marginTop","marginBottom","flexDirection","justifyContent","ExpandableCalendar","props","theme","horizontal","initialPosition","CLOSED","firstDay","disablePan","disableWeekScroll","openThreshold","closeThreshold","onCalendarToggled","closeOnDayPress","onDayPress","propsStyle","style","calendarStyle","allowShadow","hideKnob","hideArrows","onPressArrowLeft","onPressArrowRight","renderArrow","rightArrowImageSource","leftArrowImageSource","markedDates","testID","others","date","setDate","initialDate","getYear","d","getFullYear","getMonth","visibleMonth","visibleYear","isLaterDate","date1","date2","year","month","_markedDates","selected","getNumberOfWeeksInMonth","days","length","numberOfWeeks","closedHeight","getOpenHeight","Math","max","screenHeight","screenWidth","current","isAndroid","openHeight","startHeight","_height","deltaY","Animated","Value","headerDeltaY","position","setPosition","screenReaderEnabled","setScreenReaderEnabled","isOpen","OPEN","wrapper","weekCalendar","themeObject","_wrapperStyles","height","_headerStyles","top","_weekCalendarStyles","opacity","shouldHideArrows","updateNativeStyles","setNativeProps","weekDaysStyle","leftPaddings","paddingLeft","rightPaddings","paddingRight","weekDayNames","headerStyle","weekCalendarStyle","weekContainer","hidden","visible","containerStyle","containerShadow","wrapperStyle","AccessibilityInfo","isScreenReaderEnabled","then","handleScreenReaderStatus","fetch","scrollToDate","scrollToDay","scrollToMonth","scrollPage","next","addMonths","dayOfTheWeek","getDay","firstDayOfWeek","addDays","PAGE_SCROLL","handleMoveShouldSetPanResponder","_","gestureState","dy","handlePanResponderMove","min","handlePanResponderEnd","Number","bounceToPosition","panResponder","PanResponder","create","onMoveShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","toValue","threshold","_isOpen","newValue","setValue","spring","speed","bounciness","useNativeDriver","start","closeHeader","resetWeekCalendarOpacity","_onPressArrowLeft","method","_onPressArrowRight","_onDayPress","value","dateString","DAY_PRESS","setTimeout","onVisibleMonthsChange","_numberOfWeeks","trailing","leading","renderWeekDaysNames","dayHeader","renderHeader","monthYear","toString","headerTitle","renderWeekCalendar","WeekComponent","weekCalendarProps","undefined","renderKnob","knobContainer","knob","_renderArrow","direction","arrowImage","panHandlers","displayName","propTypes","oneOf","func","bool","oneOfType","object","number","defaultProps","positions"],"mappings":"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","sourcesContent":["import first from 'lodash/first';\nimport values from 'lodash/values';\nimport isFunction from 'lodash/isFunction';\nimport isNumber from 'lodash/isNumber';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useContext, useRef, useState, useEffect, useCallback, useMemo } from 'react';\nimport { AccessibilityInfo, PanResponder, Animated, View, Text, Image } from 'react-native';\n// @ts-expect-error\nimport { CALENDAR_KNOB } from '../testIDs';\nimport { page } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport styleConstructor, { HEADER_HEIGHT, KNOB_CONTAINER_HEIGHT } from './style';\nimport WeekDaysNames from '../commons/WeekDaysNames';\nimport Calendar from '../calendar';\nimport CalendarList from '../calendar-list';\nimport Week from './week';\nimport WeekCalendar from './WeekCalendar';\nimport Context from './Context';\nimport constants from '../commons/constants';\nconst commons = require('./commons');\nconst updateSources = commons.UpdateSources;\nvar Positions;\n(function (Positions) {\n    Positions[\"CLOSED\"] = \"closed\";\n    Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nconst SPEED = 20;\nconst BOUNCINESS = 6;\nconst CLOSED_HEIGHT = 120; // header + 1 week\nconst WEEK_HEIGHT = 46;\nconst DAY_NAMES_PADDING = 24;\nconst PAN_GESTURE_THRESHOLD = 30;\nconst LEFT_ARROW = require('../calendar/img/previous.png');\nconst RIGHT_ARROW = require('../calendar/img/next.png');\nconst headerStyleOverride = {\n    stylesheet: {\n        calendar: {\n            header: {\n                week: {\n                    marginTop: 7,\n                    marginBottom: -4,\n                    flexDirection: 'row',\n                    justifyContent: 'space-around'\n                }\n            }\n        }\n    }\n};\n/**\n * @description: Expandable calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst ExpandableCalendar = (props) => {\n    const { theme, horizontal = true, initialPosition = Positions.CLOSED, firstDay = 0, disablePan, disableWeekScroll, openThreshold = PAN_GESTURE_THRESHOLD, closeThreshold = PAN_GESTURE_THRESHOLD, onCalendarToggled, closeOnDayPress = true, onDayPress, style: propsStyle, calendarStyle, allowShadow = true, hideKnob, hideArrows, onPressArrowLeft, onPressArrowRight, renderArrow, rightArrowImageSource = RIGHT_ARROW, leftArrowImageSource = LEFT_ARROW, markedDates, testID, ...others } = props;\n    /** Date */\n    const { date, setDate } = useContext(Context);\n    const initialDate = date;\n    const getYear = (date) => {\n        const d = new XDate(date);\n        return d.getFullYear();\n    };\n    const getMonth = (date) => {\n        const d = new XDate(date);\n        return d.getMonth() + 1; // getMonth() returns month's index' (0-11)\n    };\n    const visibleMonth = useRef(getMonth(date));\n    const visibleYear = useRef(getYear(date));\n    const isLaterDate = (date1, date2) => {\n        if (date1 && date2) {\n            if (date1.year > getYear(date2)) {\n                return true;\n            }\n            if (date1.year === getYear(date2)) {\n                if (date1.month > getMonth(date2)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    const _markedDates = useMemo(() => {\n        return {\n            ...markedDates,\n            [date]: { selected: true }\n        };\n    }, [markedDates, date]);\n    /** Number of weeks */\n    const getNumberOfWeeksInMonth = (month) => {\n        const days = page(parseDate(month), firstDay);\n        return days.length / 7;\n    };\n    const numberOfWeeks = useRef(getNumberOfWeeksInMonth(date));\n    /** Position */\n    const closedHeight = CLOSED_HEIGHT + (hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n    const getOpenHeight = () => {\n        if (!horizontal) {\n            return Math.max(constants.screenHeight, constants.screenWidth);\n        }\n        return CLOSED_HEIGHT + (WEEK_HEIGHT * (numberOfWeeks.current - 1)) + (hideKnob ? 12 : KNOB_CONTAINER_HEIGHT) + (constants.isAndroid ? 3 : 0);\n    };\n    const openHeight = useRef(getOpenHeight());\n    const startHeight = initialPosition === Positions.CLOSED ? closedHeight : openHeight.current;\n    const _height = useRef(startHeight);\n    const deltaY = useRef(new Animated.Value(startHeight));\n    const headerDeltaY = useRef(new Animated.Value(initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT));\n    const [position, setPosition] = useState(initialPosition || Positions.CLOSED);\n    const [screenReaderEnabled, setScreenReaderEnabled] = useState(false);\n    const isOpen = useMemo(() => {\n        return position === Positions.OPEN;\n    }, [position]);\n    /** Components' refs */\n    const wrapper = useRef();\n    const calendar = useRef();\n    const header = useRef();\n    const weekCalendar = useRef();\n    /** Styles */\n    const style = useRef(styleConstructor(theme));\n    const themeObject = Object.assign(headerStyleOverride, theme);\n    const _wrapperStyles = useRef({ style: { height: startHeight } });\n    const _headerStyles = { style: { top: initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT } };\n    const _weekCalendarStyles = { style: { opacity: isOpen ? 0 : 1 } };\n    const shouldHideArrows = !horizontal ? true : hideArrows || false;\n    const updateNativeStyles = () => {\n        wrapper?.current?.setNativeProps(_wrapperStyles.current);\n        if (!horizontal) {\n            header?.current?.setNativeProps(_headerStyles);\n        }\n        else {\n            weekCalendar?.current?.setNativeProps(_weekCalendarStyles);\n        }\n    };\n    const weekDaysStyle = useMemo(() => {\n        const leftPaddings = calendarStyle?.paddingLeft;\n        const rightPaddings = calendarStyle?.paddingRight;\n        return [\n            style.current.weekDayNames,\n            {\n                paddingLeft: isNumber(leftPaddings) ? leftPaddings + 6 : DAY_NAMES_PADDING,\n                paddingRight: isNumber(rightPaddings) ? rightPaddings + 6 : DAY_NAMES_PADDING\n            }\n        ];\n    }, [calendarStyle]);\n    const headerStyle = useMemo(() => {\n        return [style.current.header, { height: HEADER_HEIGHT + 10, top: headerDeltaY.current }];\n    }, [headerDeltaY.current]);\n    const weekCalendarStyle = useMemo(() => {\n        return [style.current.weekContainer, isOpen ? style.current.hidden : style.current.visible];\n    }, [isOpen]);\n    const containerStyle = useMemo(() => {\n        return [allowShadow && style.current.containerShadow, propsStyle];\n    }, [allowShadow, propsStyle]);\n    const wrapperStyle = useMemo(() => {\n        return { height: deltaY.current };\n    }, [deltaY.current]);\n    /** Effects */\n    useEffect(() => {\n        if (AccessibilityInfo) {\n            if (AccessibilityInfo.isScreenReaderEnabled) {\n                AccessibilityInfo.isScreenReaderEnabled().then(handleScreenReaderStatus);\n            }\n            else if (AccessibilityInfo.fetch) {\n                // Support for older RN versions\n                AccessibilityInfo.fetch().then(handleScreenReaderStatus);\n            }\n        }\n    }, []);\n    useEffect(() => {\n        // date was changed from AgendaList, arrows or scroll\n        scrollToDate(date);\n    }, [date]);\n    const handleScreenReaderStatus = (screenReaderEnabled) => {\n        setScreenReaderEnabled(screenReaderEnabled);\n    };\n    /** Scroll */\n    const scrollToDate = (date) => {\n        if (!horizontal) {\n            calendar?.current?.scrollToDay(new XDate(date), 0, true);\n        }\n        else if (getYear(date) !== visibleYear.current || getMonth(date) !== visibleMonth.current) {\n            // don't scroll if the month is already visible\n            calendar?.current?.scrollToMonth(date);\n        }\n    };\n    const scrollPage = (next) => {\n        if (horizontal) {\n            const d = parseDate(date);\n            if (isOpen) {\n                d.setDate(1);\n                d.addMonths(next ? 1 : -1);\n            }\n            else {\n                let dayOfTheWeek = d.getDay();\n                if (dayOfTheWeek < firstDay && firstDay > 0) {\n                    dayOfTheWeek = 7 + dayOfTheWeek;\n                }\n                const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n                d.addDays(firstDayOfWeek);\n            }\n            setDate?.(toMarkingFormat(d), updateSources.PAGE_SCROLL);\n        }\n    };\n    /** Pan Gesture */\n    const handleMoveShouldSetPanResponder = (_, gestureState) => {\n        if (disablePan) {\n            return false;\n        }\n        if (!horizontal && isOpen) {\n            // disable pan detection when vertical calendar is open to allow calendar scroll\n            return false;\n        }\n        if (position === Positions.CLOSED && gestureState.dy < 0) {\n            // disable pan detection to limit to closed height\n            return false;\n        }\n        return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n    const handlePanResponderMove = (_, gestureState) => {\n        // limit min height to closed height\n        _wrapperStyles.current.style.height = Math.max(closedHeight, _height.current + gestureState.dy);\n        if (!horizontal) {\n            // vertical CalenderList header\n            _headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n        }\n        else {\n            // horizontal Week view\n            if (position === Positions.CLOSED) {\n                _weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n            }\n        }\n        updateNativeStyles();\n    };\n    const handlePanResponderEnd = () => {\n        _height.current = Number(_wrapperStyles.current.style.height);\n        bounceToPosition();\n    };\n    const panResponder = PanResponder.create({\n        onMoveShouldSetPanResponder: handleMoveShouldSetPanResponder,\n        onPanResponderMove: handlePanResponderMove,\n        onPanResponderRelease: handlePanResponderEnd,\n        onPanResponderTerminate: handlePanResponderEnd\n    });\n    /** Animated */\n    const bounceToPosition = (toValue = 0) => {\n        if (!disablePan) {\n            const threshold = isOpen ? openHeight.current - closeThreshold : closedHeight + openThreshold;\n            let _isOpen = _height.current >= threshold;\n            const newValue = _isOpen ? openHeight.current : closedHeight;\n            deltaY.current.setValue(_height.current); // set the start position for the animated value\n            _height.current = toValue || newValue;\n            _isOpen = _height.current >= threshold; // re-check after _height.current was set\n            Animated.spring(deltaY.current, {\n                toValue: _height.current,\n                speed: SPEED,\n                bounciness: BOUNCINESS,\n                useNativeDriver: false\n            }).start();\n            onCalendarToggled?.(_isOpen);\n            setPosition(() => _height.current === closedHeight ? Positions.CLOSED : Positions.OPEN);\n            closeHeader(_isOpen);\n            resetWeekCalendarOpacity(_isOpen);\n        }\n    };\n    const resetWeekCalendarOpacity = (isOpen) => {\n        _weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n        updateNativeStyles();\n    };\n    const closeHeader = (isOpen) => {\n        headerDeltaY.current.setValue(Number(_headerStyles.style.top)); // set the start position for the animated value\n        if (!horizontal && !isOpen) {\n            Animated.spring(headerDeltaY.current, {\n                toValue: 0,\n                speed: SPEED / 10,\n                bounciness: 1,\n                useNativeDriver: false\n            }).start();\n        }\n    };\n    /** Events */\n    const _onPressArrowLeft = useCallback((method, month) => {\n        onPressArrowLeft?.(method, month);\n        scrollPage(false);\n    }, [onPressArrowLeft, scrollPage]);\n    const _onPressArrowRight = useCallback((method, month) => {\n        onPressArrowRight?.(method, month);\n        scrollPage(true);\n    }, [onPressArrowRight, scrollPage]);\n    const _onDayPress = useCallback((value) => {\n        setDate?.(value.dateString, updateSources.DAY_PRESS);\n        if (closeOnDayPress) {\n            setTimeout(() => {\n                // to allows setDate to be completed\n                if (isOpen) {\n                    bounceToPosition(closedHeight);\n                }\n            }, 0);\n        }\n        onDayPress?.(value);\n    }, [setDate, onDayPress, closeOnDayPress, isOpen]);\n    const onVisibleMonthsChange = useCallback(throttle((value) => {\n        if (first(value)) {\n            const month = first(value)?.month;\n            if (month && visibleMonth.current !== month) {\n                visibleMonth.current = month;\n                const year = first(value)?.year;\n                if (year) {\n                    visibleYear.current = year;\n                }\n                // for horizontal scroll\n                if (visibleMonth.current !== getMonth(date)) {\n                    const next = isLaterDate(first(value), date);\n                    scrollPage(next);\n                }\n                // updating openHeight\n                setTimeout(() => {\n                    // to wait for setDate() call in horizontal scroll (scrollPage())\n                    const _numberOfWeeks = getNumberOfWeeksInMonth(date);\n                    if (_numberOfWeeks !== numberOfWeeks.current) {\n                        numberOfWeeks.current = _numberOfWeeks;\n                        openHeight.current = getOpenHeight();\n                        if (isOpen) {\n                            bounceToPosition(openHeight.current);\n                        }\n                    }\n                }, 0);\n            }\n        }\n    }, 100, { trailing: true, leading: false }), [date, scrollPage]);\n    /** Renders */\n    const renderWeekDaysNames = () => {\n        return (<View style={weekDaysStyle}>\n        <WeekDaysNames firstDay={firstDay} style={style.current.dayHeader}/>\n      </View>);\n    };\n    const renderHeader = () => {\n        const monthYear = new XDate(date).toString('MMMM yyyy');\n        return (<Animated.View ref={header} style={headerStyle} pointerEvents={'none'}>\n        <Text allowFontScaling={false} style={style.current.headerTitle}>\n          {monthYear}\n        </Text>\n        {renderWeekDaysNames()}\n      </Animated.View>);\n    };\n    const renderWeekCalendar = () => {\n        const WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n        const weekCalendarProps = disableWeekScroll ? undefined : { allowShadow: false };\n        return (<Animated.View ref={weekCalendar} style={weekCalendarStyle} pointerEvents={position === Positions.CLOSED ? 'auto' : 'none'}>\n        <WeekComponent {...props} {...weekCalendarProps} current={date} onDayPress={_onDayPress} style={calendarStyle} hideDayNames={true} accessibilityElementsHidden // iOS\n         importantForAccessibility={'no-hide-descendants'} // Android\n        />\n      </Animated.View>);\n    };\n    const renderKnob = () => {\n        // TODO: turn to TouchableOpacity with onPress that closes it\n        return (<View style={style.current.knobContainer} pointerEvents={'none'} testID={`${testID}-knob`}>\n        <View style={style.current.knob} testID={CALENDAR_KNOB}/>\n      </View>);\n    };\n    const _renderArrow = (direction) => {\n        if (isFunction(renderArrow)) {\n            return renderArrow(direction);\n        }\n        return (<Image source={direction === 'right' ? rightArrowImageSource : leftArrowImageSource} style={style.current.arrowImage} testID={`${testID}-${direction}-arrow`}/>);\n    };\n    return (<View testID={testID} style={containerStyle}>\n      {screenReaderEnabled ? (<Calendar testID=\"calendar\" {...others} theme={themeObject} onDayPress={_onDayPress} hideExtraDays renderArrow={_renderArrow}/>) : (<Animated.View ref={wrapper} style={wrapperStyle} {...panResponder.panHandlers}>\n          <CalendarList testID=\"calendar\" horizontal={horizontal} firstDay={firstDay} calendarStyle={calendarStyle} {...others} markedDates={_markedDates} theme={themeObject} ref={calendar} current={initialDate} onDayPress={_onDayPress} onVisibleMonthsChange={onVisibleMonthsChange} pagingEnabled scrollEnabled={isOpen} hideArrows={shouldHideArrows} onPressArrowLeft={_onPressArrowLeft} onPressArrowRight={_onPressArrowRight} hideExtraDays={!horizontal && isOpen} renderArrow={_renderArrow} staticHeader/>\n          {renderWeekCalendar()}\n          {!hideKnob && renderKnob()}\n          {!horizontal && renderHeader()}\n        </Animated.View>)}\n    </View>);\n};\nexport default ExpandableCalendar;\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.propTypes = {\n    ...CalendarList.propTypes,\n    initialPosition: PropTypes.oneOf(values(Positions)),\n    onCalendarToggled: PropTypes.func,\n    disablePan: PropTypes.bool,\n    hideKnob: PropTypes.bool,\n    leftArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n    rightArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n    allowShadow: PropTypes.bool,\n    disableWeekScroll: PropTypes.bool,\n    openThreshold: PropTypes.number,\n    closeThreshold: PropTypes.number,\n    closeOnDayPress: PropTypes.bool\n};\nExpandableCalendar.defaultProps = {\n    horizontal: true,\n    initialPosition: Positions.CLOSED,\n    firstDay: 0,\n    leftArrowImageSource: LEFT_ARROW,\n    rightArrowImageSource: RIGHT_ARROW,\n    allowShadow: true,\n    openThreshold: PAN_GESTURE_THRESHOLD,\n    closeThreshold: PAN_GESTURE_THRESHOLD,\n    closeOnDayPress: true\n};\nExpandableCalendar.positions = Positions;\n"]},"metadata":{},"sourceType":"module"}