{
  "ast": null,
  "code": "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport min from 'lodash/min';\nimport map from 'lodash/map';\nimport constants from \"../commons/constants\";\nimport styleConstructor, { HOURS_SIDEBAR_WIDTH } from \"./style\";\nimport { populateEvents, HOUR_BLOCK_HEIGHT } from \"./Packer\";\nimport { calcTimeOffset } from \"./helpers/presenter\";\nimport TimelineHours from \"./TimelineHours\";\nimport EventBlock from \"./EventBlock\";\nimport NowIndicator from \"./NowIndicator\";\nimport useTimelineOffset from \"./useTimelineOffset\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Timeline = function Timeline(props) {\n  var _props$format24h = props.format24h,\n      format24h = _props$format24h === void 0 ? true : _props$format24h,\n      _props$start = props.start,\n      start = _props$start === void 0 ? 0 : _props$start,\n      _props$end = props.end,\n      end = _props$end === void 0 ? 24 : _props$end,\n      date = props.date,\n      _props$events = props.events,\n      events = _props$events === void 0 ? [] : _props$events,\n      onEventPress = props.onEventPress,\n      onBackgroundLongPress = props.onBackgroundLongPress,\n      onBackgroundLongPressOut = props.onBackgroundLongPressOut,\n      renderEvent = props.renderEvent,\n      theme = props.theme,\n      scrollToFirst = props.scrollToFirst,\n      scrollToNow = props.scrollToNow,\n      initialTime = props.initialTime,\n      showNowIndicator = props.showNowIndicator,\n      scrollOffset = props.scrollOffset,\n      onChangeOffset = props.onChangeOffset,\n      overlapEventsSpacing = props.overlapEventsSpacing,\n      rightEdgeSpacing = props.rightEdgeSpacing,\n      unavailableHours = props.unavailableHours,\n      unavailableHoursColor = props.unavailableHoursColor,\n      eventTapped = props.eventTapped;\n  var scrollView = useRef();\n  var calendarHeight = useRef((end - start) * HOUR_BLOCK_HEIGHT);\n  var styles = useRef(styleConstructor(theme || props.styles, calendarHeight.current));\n\n  var _useTimelineOffset = useTimelineOffset({\n    onChangeOffset: onChangeOffset,\n    scrollOffset: scrollOffset,\n    scrollViewRef: scrollView\n  }),\n      scrollEvents = _useTimelineOffset.scrollEvents;\n\n  var packedEvents = useMemo(function () {\n    var width = constants.screenWidth - HOURS_SIDEBAR_WIDTH;\n    return populateEvents(events, {\n      screenWidth: width,\n      dayStart: start,\n      overlapEventsSpacing: overlapEventsSpacing,\n      rightEdgeSpacing: rightEdgeSpacing\n    });\n  }, [events, start]);\n  useEffect(function () {\n    var initialPosition = 0;\n\n    if (scrollToNow) {\n      initialPosition = calcTimeOffset(HOUR_BLOCK_HEIGHT);\n    } else if (scrollToFirst && packedEvents.length > 0) {\n      var _min;\n\n      initialPosition = (_min = min(map(packedEvents, 'top'))) != null ? _min : 0;\n    } else if (initialTime) {\n      initialPosition = calcTimeOffset(HOUR_BLOCK_HEIGHT, initialTime.hour, initialTime.minutes);\n    }\n\n    if (initialPosition) {\n      setTimeout(function () {\n        var _scrollView$current;\n\n        scrollView == null ? void 0 : (_scrollView$current = scrollView.current) == null ? void 0 : _scrollView$current.scrollTo({\n          y: Math.max(0, initialPosition - HOUR_BLOCK_HEIGHT),\n          animated: true\n        });\n      }, 0);\n    }\n  }, []);\n\n  var _onEventPress = useCallback(function (eventIndex) {\n    var event = packedEvents[eventIndex];\n\n    if (eventTapped) {\n      eventTapped(event);\n    } else {\n      onEventPress == null ? void 0 : onEventPress(event);\n    }\n  }, [packedEvents, onEventPress, eventTapped]);\n\n  var renderEvents = function renderEvents() {\n    var events = packedEvents.map(function (event, i) {\n      return _jsx(EventBlock, {\n        index: i,\n        event: event,\n        styles: styles.current,\n        format24h: format24h,\n        onPress: _onEventPress,\n        renderEvent: renderEvent\n      }, i);\n    });\n    return _jsx(View, {\n      children: _jsx(View, {\n        style: {\n          marginLeft: HOURS_SIDEBAR_WIDTH\n        },\n        children: events\n      })\n    });\n  };\n\n  return _jsxs(ScrollView, _objectSpread(_objectSpread({\n    ref: scrollView,\n    contentContainerStyle: [styles.current.contentStyle, {\n      width: constants.screenWidth\n    }]\n  }, scrollEvents), {}, {\n    children: [_jsx(TimelineHours, {\n      start: start,\n      end: end,\n      date: date,\n      format24h: format24h,\n      styles: styles.current,\n      unavailableHours: unavailableHours,\n      unavailableHoursColor: unavailableHoursColor,\n      onBackgroundLongPress: onBackgroundLongPress,\n      onBackgroundLongPressOut: onBackgroundLongPressOut\n    }), renderEvents(), showNowIndicator && _jsx(NowIndicator, {\n      styles: styles.current\n    })]\n  }));\n};\n\nexport default React.memo(Timeline);",
  "map": {
    "version": 3,
    "names": [
      "React",
      "useCallback",
      "useEffect",
      "useMemo",
      "useRef",
      "min",
      "map",
      "constants",
      "styleConstructor",
      "HOURS_SIDEBAR_WIDTH",
      "populateEvents",
      "HOUR_BLOCK_HEIGHT",
      "calcTimeOffset",
      "TimelineHours",
      "EventBlock",
      "NowIndicator",
      "useTimelineOffset",
      "Timeline",
      "props",
      "format24h",
      "start",
      "end",
      "date",
      "events",
      "onEventPress",
      "onBackgroundLongPress",
      "onBackgroundLongPressOut",
      "renderEvent",
      "theme",
      "scrollToFirst",
      "scrollToNow",
      "initialTime",
      "showNowIndicator",
      "scrollOffset",
      "onChangeOffset",
      "overlapEventsSpacing",
      "rightEdgeSpacing",
      "unavailableHours",
      "unavailableHoursColor",
      "eventTapped",
      "scrollView",
      "calendarHeight",
      "styles",
      "current",
      "scrollViewRef",
      "scrollEvents",
      "packedEvents",
      "width",
      "screenWidth",
      "dayStart",
      "initialPosition",
      "length",
      "hour",
      "minutes",
      "setTimeout",
      "scrollTo",
      "y",
      "Math",
      "max",
      "animated",
      "_onEventPress",
      "eventIndex",
      "event",
      "renderEvents",
      "i",
      "marginLeft",
      "contentStyle",
      "memo"
    ],
    "sources": [
      "C:/Users/Peace/Desktop/YOS3/SEMESTER 1/Software Design III/2022/Software Design Project/SPS-Project/DFMPC-Student-Placement-System/project/node_modules/react-native-calendars/src/timeline/Timeline.js"
    ],
    "sourcesContent": [
      "import React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { View, ScrollView } from 'react-native';\nimport min from 'lodash/min';\nimport map from 'lodash/map';\nimport constants from '../commons/constants';\nimport styleConstructor, { HOURS_SIDEBAR_WIDTH } from './style';\nimport { populateEvents, HOUR_BLOCK_HEIGHT } from './Packer';\nimport { calcTimeOffset } from './helpers/presenter';\nimport TimelineHours from './TimelineHours';\nimport EventBlock from './EventBlock';\nimport NowIndicator from './NowIndicator';\nimport useTimelineOffset from './useTimelineOffset';\nconst Timeline = (props) => {\n    const { format24h = true, start = 0, end = 24, date, events = [], onEventPress, onBackgroundLongPress, onBackgroundLongPressOut, renderEvent, theme, scrollToFirst, scrollToNow, initialTime, showNowIndicator, scrollOffset, onChangeOffset, overlapEventsSpacing, rightEdgeSpacing, unavailableHours, unavailableHoursColor, eventTapped } = props;\n    const scrollView = useRef();\n    const calendarHeight = useRef((end - start) * HOUR_BLOCK_HEIGHT);\n    const styles = useRef(styleConstructor(theme || props.styles, calendarHeight.current));\n    const { scrollEvents } = useTimelineOffset({ onChangeOffset, scrollOffset, scrollViewRef: scrollView });\n    const packedEvents = useMemo(() => {\n        const width = constants.screenWidth - HOURS_SIDEBAR_WIDTH;\n        return populateEvents(events, { screenWidth: width, dayStart: start, overlapEventsSpacing, rightEdgeSpacing });\n    }, [events, start]);\n    useEffect(() => {\n        let initialPosition = 0;\n        if (scrollToNow) {\n            initialPosition = calcTimeOffset(HOUR_BLOCK_HEIGHT);\n        }\n        else if (scrollToFirst && packedEvents.length > 0) {\n            initialPosition = min(map(packedEvents, 'top')) ?? 0;\n        }\n        else if (initialTime) {\n            initialPosition = calcTimeOffset(HOUR_BLOCK_HEIGHT, initialTime.hour, initialTime.minutes);\n        }\n        if (initialPosition) {\n            setTimeout(() => {\n                scrollView?.current?.scrollTo({\n                    y: Math.max(0, initialPosition - HOUR_BLOCK_HEIGHT),\n                    animated: true\n                });\n            }, 0);\n        }\n    }, []);\n    const _onEventPress = useCallback((eventIndex) => {\n        const event = packedEvents[eventIndex];\n        if (eventTapped) {\n            //TODO: remove after deprecation\n            eventTapped(event);\n        }\n        else {\n            onEventPress?.(event);\n        }\n    }, [packedEvents, onEventPress, eventTapped]);\n    const renderEvents = () => {\n        const events = packedEvents.map((event, i) => {\n            return (<EventBlock key={i} index={i} event={event} styles={styles.current} format24h={format24h} onPress={_onEventPress} renderEvent={renderEvent}/>);\n        });\n        return (<View>\n        <View style={{ marginLeft: HOURS_SIDEBAR_WIDTH }}>{events}</View>\n      </View>);\n    };\n    return (<ScrollView \n    // @ts-expect-error\n    ref={scrollView} contentContainerStyle={[styles.current.contentStyle, { width: constants.screenWidth }]} {...scrollEvents}>\n      <TimelineHours start={start} end={end} date={date} format24h={format24h} styles={styles.current} unavailableHours={unavailableHours} unavailableHoursColor={unavailableHoursColor} onBackgroundLongPress={onBackgroundLongPress} onBackgroundLongPressOut={onBackgroundLongPressOut}/>\n      {renderEvents()}\n      {showNowIndicator && <NowIndicator styles={styles.current}/>}\n    </ScrollView>);\n};\nexport default React.memo(Timeline);\n"
    ],
    "mappings": "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"
  },
  "metadata": {},
  "sourceType": "module"
}
