{
  "ast": null,
  "code": "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport get from 'lodash/get';\nimport map from 'lodash/map';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useCallback, useContext, useEffect, useRef } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport { isToday, isGTE, sameDate } from \"../dateutils\";\nimport { getMoment } from \"../momentResolver\";\nimport { parseDate } from \"../interface\";\nimport { getDefaultLocale } from \"../services\";\nimport { UpdateSources, todayString } from \"./commons\";\nimport styleConstructor from \"./style\";\nimport constants from \"../commons/constants\";\nimport Context from \"./Context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar viewabilityConfig = {\n  itemVisiblePercentThreshold: 20\n};\n\nvar AgendaList = function AgendaList(props) {\n  var _sections$;\n\n  var theme = props.theme,\n      sections = props.sections,\n      scrollToNextEvent = props.scrollToNextEvent,\n      _props$viewOffset = props.viewOffset,\n      viewOffset = _props$viewOffset === void 0 ? 0 : _props$viewOffset,\n      avoidDateUpdates = props.avoidDateUpdates,\n      onScroll = props.onScroll,\n      onMomentumScrollBegin = props.onMomentumScrollBegin,\n      onMomentumScrollEnd = props.onMomentumScrollEnd,\n      onScrollToIndexFailed = props.onScrollToIndexFailed,\n      renderSectionHeader = props.renderSectionHeader,\n      sectionStyle = props.sectionStyle,\n      keyExtractor = props.keyExtractor,\n      dayFormatter = props.dayFormatter,\n      _props$dayFormat = props.dayFormat,\n      dayFormat = _props$dayFormat === void 0 ? 'dddd, MMM d' : _props$dayFormat,\n      useMoment = props.useMoment,\n      _props$markToday = props.markToday,\n      markToday = _props$markToday === void 0 ? true : _props$markToday;\n\n  var _useContext = useContext(Context),\n      date = _useContext.date,\n      updateSource = _useContext.updateSource,\n      setDate = _useContext.setDate,\n      setDisabled = _useContext.setDisabled;\n\n  var style = useRef(styleConstructor(theme));\n  var list = useRef();\n\n  var _topSection = useRef((_sections$ = sections[0]) == null ? void 0 : _sections$.title);\n\n  var didScroll = useRef(false);\n  var sectionScroll = useRef(false);\n  var sectionHeight = useRef(0);\n  useEffect(function () {\n    if (date !== _topSection.current) {\n      setTimeout(function () {\n        scrollToSection();\n      }, 500);\n    }\n  }, []);\n  useEffect(function () {\n    if (updateSource !== UpdateSources.LIST_DRAG && updateSource !== UpdateSources.CALENDAR_INIT) {\n      scrollToSection();\n    }\n  }, [date]);\n\n  var getSectionIndex = function getSectionIndex(date) {\n    var i;\n    map(sections, function (section, index) {\n      if (section.title === date) {\n        i = index;\n      }\n    });\n    return i;\n  };\n\n  var getNextSectionIndex = function getNextSectionIndex(date) {\n    var i = 0;\n\n    for (var j = 1; j < sections.length; j++) {\n      var _sections, _sections$j;\n\n      var prev = parseDate((_sections = sections[j - 1]) == null ? void 0 : _sections.title);\n      var next = parseDate((_sections$j = sections[j]) == null ? void 0 : _sections$j.title);\n      var cur = parseDate(date);\n\n      if (isGTE(cur, prev) && isGTE(next, cur)) {\n        i = sameDate(prev, cur) ? j - 1 : j;\n        break;\n      } else if (isGTE(cur, next)) {\n        i = j;\n      }\n    }\n\n    return i;\n  };\n\n  var getSectionTitle = function getSectionTitle(title) {\n    if (!title) return;\n    var sectionTitle = title;\n\n    if (dayFormatter) {\n      sectionTitle = dayFormatter(title);\n    } else if (dayFormat) {\n      if (useMoment) {\n        var moment = getMoment();\n        sectionTitle = moment(title).format(dayFormat);\n      } else {\n        sectionTitle = new XDate(title).toString(dayFormat);\n      }\n    }\n\n    if (markToday) {\n      var string = getDefaultLocale().today || todayString;\n      var today = isToday(new XDate(title));\n      sectionTitle = today ? string + \", \" + sectionTitle : sectionTitle;\n    }\n\n    return sectionTitle;\n  };\n\n  var scrollToSection = function scrollToSection() {\n    var sectionIndex = scrollToNextEvent ? getNextSectionIndex(date) : getSectionIndex(date);\n\n    if (isUndefined(sectionIndex)) {\n      return;\n    }\n\n    if (list != null && list.current && sectionIndex !== undefined) {\n      var _sections$sectionInde;\n\n      sectionScroll.current = true;\n      _topSection.current = (_sections$sectionInde = sections[sectionIndex]) == null ? void 0 : _sections$sectionInde.title;\n      list == null ? void 0 : list.current.scrollToLocation({\n        animated: true,\n        sectionIndex: sectionIndex,\n        itemIndex: 0,\n        viewPosition: 0,\n        viewOffset: (constants.isAndroid ? sectionHeight.current : 0) + viewOffset\n      });\n    }\n  };\n\n  var onViewableItemsChanged = useCallback(function (info) {\n    if (info != null && info.viewableItems && !sectionScroll.current) {\n      var topSection = get(info == null ? void 0 : info.viewableItems[0], 'section.title');\n\n      if (topSection && topSection !== _topSection.current) {\n        _topSection.current = topSection;\n\n        if (didScroll.current && !avoidDateUpdates) {\n          setDate == null ? void 0 : setDate(_topSection.current, UpdateSources.LIST_DRAG);\n        }\n      }\n    }\n  }, [_topSection.current, didScroll.current, avoidDateUpdates, setDate]);\n\n  var _onScroll = useCallback(function (event) {\n    if (!didScroll.current) {\n      didScroll.current = true;\n    }\n\n    onScroll == null ? void 0 : onScroll(event);\n  }, [didScroll.current, onScroll]);\n\n  var _onMomentumScrollBegin = useCallback(function (event) {\n    setDisabled == null ? void 0 : setDisabled(true);\n    onMomentumScrollBegin == null ? void 0 : onMomentumScrollBegin(event);\n  }, [onMomentumScrollBegin, setDisabled]);\n\n  var _onMomentumScrollEnd = useCallback(function (event) {\n    sectionScroll.current = false;\n    setDisabled == null ? void 0 : setDisabled(false);\n    onMomentumScrollEnd == null ? void 0 : onMomentumScrollEnd(event);\n  }, [onMomentumScrollEnd, setDisabled]);\n\n  var _onScrollToIndexFailed = useCallback(function (info) {\n    if (onScrollToIndexFailed) {\n      onScrollToIndexFailed(info);\n    } else {\n      console.log('onScrollToIndexFailed info: ', info);\n    }\n  }, [onScrollToIndexFailed]);\n\n  var onHeaderLayout = useCallback(function (event) {\n    sectionHeight.current = event.nativeEvent.layout.height;\n  }, []);\n\n  var _renderSectionHeader = useCallback(function (info) {\n    var _info$section;\n\n    var title = info == null ? void 0 : (_info$section = info.section) == null ? void 0 : _info$section.title;\n\n    if (renderSectionHeader) {\n      return renderSectionHeader(title);\n    }\n\n    return _jsx(Text, {\n      allowFontScaling: false,\n      style: [style.current.sectionText, sectionStyle],\n      onLayout: onHeaderLayout,\n      children: getSectionTitle(title)\n    });\n  }, []);\n\n  var _keyExtractor = useCallback(function (item, index) {\n    return isFunction(keyExtractor) ? keyExtractor(item, index) : String(index);\n  }, [keyExtractor]);\n\n  return _jsx(SectionList, _objectSpread(_objectSpread({}, props), {}, {\n    ref: list,\n    keyExtractor: _keyExtractor,\n    showsVerticalScrollIndicator: false,\n    onViewableItemsChanged: onViewableItemsChanged,\n    viewabilityConfig: viewabilityConfig,\n    renderSectionHeader: _renderSectionHeader,\n    onScroll: _onScroll,\n    onMomentumScrollBegin: _onMomentumScrollBegin,\n    onMomentumScrollEnd: _onMomentumScrollEnd,\n    onScrollToIndexFailed: _onScrollToIndexFailed\n  }));\n};\n\nexport default AgendaList;\nAgendaList.displayName = 'AgendaList';\nAgendaList.propTypes = {\n  dayFormat: PropTypes.string,\n  dayFormatter: PropTypes.func,\n  useMoment: PropTypes.bool,\n  markToday: PropTypes.bool,\n  sectionStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  avoidDateUpdates: PropTypes.bool\n};\nAgendaList.defaultProps = {\n  dayFormat: 'dddd, MMM d',\n  stickySectionHeadersEnabled: true,\n  markToday: true\n};",
  "map": {
    "version": 3,
    "names": [
      "get",
      "map",
      "isFunction",
      "isUndefined",
      "PropTypes",
      "XDate",
      "React",
      "useCallback",
      "useContext",
      "useEffect",
      "useRef",
      "isToday",
      "isGTE",
      "sameDate",
      "getMoment",
      "parseDate",
      "getDefaultLocale",
      "UpdateSources",
      "todayString",
      "styleConstructor",
      "constants",
      "Context",
      "viewabilityConfig",
      "itemVisiblePercentThreshold",
      "AgendaList",
      "props",
      "theme",
      "sections",
      "scrollToNextEvent",
      "viewOffset",
      "avoidDateUpdates",
      "onScroll",
      "onMomentumScrollBegin",
      "onMomentumScrollEnd",
      "onScrollToIndexFailed",
      "renderSectionHeader",
      "sectionStyle",
      "keyExtractor",
      "dayFormatter",
      "dayFormat",
      "useMoment",
      "markToday",
      "date",
      "updateSource",
      "setDate",
      "setDisabled",
      "style",
      "list",
      "_topSection",
      "title",
      "didScroll",
      "sectionScroll",
      "sectionHeight",
      "current",
      "setTimeout",
      "scrollToSection",
      "LIST_DRAG",
      "CALENDAR_INIT",
      "getSectionIndex",
      "i",
      "section",
      "index",
      "getNextSectionIndex",
      "j",
      "length",
      "prev",
      "next",
      "cur",
      "getSectionTitle",
      "sectionTitle",
      "moment",
      "format",
      "toString",
      "string",
      "today",
      "sectionIndex",
      "undefined",
      "scrollToLocation",
      "animated",
      "itemIndex",
      "viewPosition",
      "isAndroid",
      "onViewableItemsChanged",
      "info",
      "viewableItems",
      "topSection",
      "_onScroll",
      "event",
      "_onMomentumScrollBegin",
      "_onMomentumScrollEnd",
      "_onScrollToIndexFailed",
      "console",
      "log",
      "onHeaderLayout",
      "nativeEvent",
      "layout",
      "height",
      "_renderSectionHeader",
      "sectionText",
      "_keyExtractor",
      "item",
      "String",
      "displayName",
      "propTypes",
      "func",
      "bool",
      "oneOfType",
      "object",
      "number",
      "array",
      "defaultProps",
      "stickySectionHeadersEnabled"
    ],
    "sources": [
      "/home/cipher73/Coding Projects/SDproject/DFMPC-Student-Placement-System/node_modules/react-native-calendars/src/expandableCalendar/agendaList.js"
    ],
    "sourcesContent": [
      "import get from 'lodash/get';\nimport map from 'lodash/map';\nimport isFunction from 'lodash/isFunction';\nimport isUndefined from 'lodash/isUndefined';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { useCallback, useContext, useEffect, useRef } from 'react';\nimport { Text, SectionList } from 'react-native';\nimport { isToday, isGTE, sameDate } from '../dateutils';\nimport { getMoment } from '../momentResolver';\nimport { parseDate } from '../interface';\nimport { getDefaultLocale } from '../services';\nimport { UpdateSources, todayString } from './commons';\nimport styleConstructor from './style';\nimport constants from '../commons/constants';\nimport Context from './Context';\nconst viewabilityConfig = {\n    itemVisiblePercentThreshold: 20 // 50 means if 50% of the item is visible\n};\n/**\n * @description: AgendaList component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: SectionList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst AgendaList = (props) => {\n    const { theme, sections, scrollToNextEvent, viewOffset = 0, avoidDateUpdates, onScroll, onMomentumScrollBegin, onMomentumScrollEnd, onScrollToIndexFailed, renderSectionHeader, sectionStyle, keyExtractor, dayFormatter, dayFormat = 'dddd, MMM d', useMoment, markToday = true } = props;\n    const { date, updateSource, setDate, setDisabled } = useContext(Context);\n    const style = useRef(styleConstructor(theme));\n    const list = useRef();\n    const _topSection = useRef(sections[0]?.title);\n    const didScroll = useRef(false);\n    const sectionScroll = useRef(false);\n    const sectionHeight = useRef(0);\n    useEffect(() => {\n        if (date !== _topSection.current) {\n            setTimeout(() => {\n                scrollToSection();\n            }, 500);\n        }\n    }, []);\n    useEffect(() => {\n        // NOTE: on first init data should set first section to the current date!!!\n        if (updateSource !== UpdateSources.LIST_DRAG && updateSource !== UpdateSources.CALENDAR_INIT) {\n            scrollToSection();\n        }\n    }, [date]);\n    const getSectionIndex = (date) => {\n        let i;\n        map(sections, (section, index) => {\n            // NOTE: sections titles should match current date format!!!\n            if (section.title === date) {\n                i = index;\n            }\n        });\n        return i;\n    };\n    const getNextSectionIndex = (date) => {\n        let i = 0;\n        for (let j = 1; j < sections.length; j++) {\n            const prev = parseDate(sections[j - 1]?.title);\n            const next = parseDate(sections[j]?.title);\n            const cur = parseDate(date);\n            if (isGTE(cur, prev) && isGTE(next, cur)) {\n                i = sameDate(prev, cur) ? j - 1 : j;\n                break;\n            }\n            else if (isGTE(cur, next)) {\n                i = j;\n            }\n        }\n        return i;\n    };\n    const getSectionTitle = (title) => {\n        if (!title)\n            return;\n        let sectionTitle = title;\n        if (dayFormatter) {\n            sectionTitle = dayFormatter(title);\n        }\n        else if (dayFormat) {\n            if (useMoment) {\n                const moment = getMoment();\n                sectionTitle = moment(title).format(dayFormat);\n            }\n            else {\n                sectionTitle = new XDate(title).toString(dayFormat);\n            }\n        }\n        if (markToday) {\n            const string = getDefaultLocale().today || todayString;\n            const today = isToday(new XDate(title));\n            sectionTitle = today ? `${string}, ${sectionTitle}` : sectionTitle;\n        }\n        return sectionTitle;\n    };\n    const scrollToSection = () => {\n        const sectionIndex = scrollToNextEvent ? getNextSectionIndex(date) : getSectionIndex(date);\n        if (isUndefined(sectionIndex)) {\n            return;\n        }\n        if (list?.current && sectionIndex !== undefined) {\n            sectionScroll.current = true; // to avoid setDate() in onViewableItemsChanged\n            _topSection.current = sections[sectionIndex]?.title;\n            list?.current.scrollToLocation({\n                animated: true,\n                sectionIndex: sectionIndex,\n                itemIndex: 0,\n                viewPosition: 0,\n                viewOffset: (constants.isAndroid ? sectionHeight.current : 0) + viewOffset\n            });\n        }\n    };\n    const onViewableItemsChanged = useCallback((info) => {\n        if (info?.viewableItems && !sectionScroll.current) {\n            const topSection = get(info?.viewableItems[0], 'section.title');\n            if (topSection && topSection !== _topSection.current) {\n                _topSection.current = topSection;\n                if (didScroll.current && !avoidDateUpdates) {\n                    // to avoid setDate() on first load (while setting the initial context.date value)\n                    setDate?.(_topSection.current, UpdateSources.LIST_DRAG);\n                }\n            }\n        }\n    }, [_topSection.current, didScroll.current, avoidDateUpdates, setDate]);\n    const _onScroll = useCallback((event) => {\n        if (!didScroll.current) {\n            didScroll.current = true;\n        }\n        onScroll?.(event);\n    }, [didScroll.current, onScroll]);\n    const _onMomentumScrollBegin = useCallback((event) => {\n        setDisabled?.(true);\n        onMomentumScrollBegin?.(event);\n    }, [onMomentumScrollBegin, setDisabled]);\n    const _onMomentumScrollEnd = useCallback((event) => {\n        // when list momentum ends AND when scrollToSection scroll ends\n        sectionScroll.current = false;\n        setDisabled?.(false);\n        onMomentumScrollEnd?.(event);\n    }, [onMomentumScrollEnd, setDisabled]);\n    const _onScrollToIndexFailed = useCallback((info) => {\n        if (onScrollToIndexFailed) {\n            onScrollToIndexFailed(info);\n        }\n        else {\n            console.log('onScrollToIndexFailed info: ', info);\n        }\n    }, [onScrollToIndexFailed]);\n    const onHeaderLayout = useCallback((event) => {\n        sectionHeight.current = event.nativeEvent.layout.height;\n    }, []);\n    const _renderSectionHeader = useCallback((info) => {\n        const title = info?.section?.title;\n        if (renderSectionHeader) {\n            return renderSectionHeader(title);\n        }\n        return (<Text allowFontScaling={false} style={[style.current.sectionText, sectionStyle]} onLayout={onHeaderLayout}>\n        {getSectionTitle(title)}\n      </Text>);\n    }, []);\n    const _keyExtractor = useCallback((item, index) => {\n        return isFunction(keyExtractor) ? keyExtractor(item, index) : String(index);\n    }, [keyExtractor]);\n    return (<SectionList {...props} ref={list} keyExtractor={_keyExtractor} showsVerticalScrollIndicator={false} onViewableItemsChanged={onViewableItemsChanged} viewabilityConfig={viewabilityConfig} renderSectionHeader={_renderSectionHeader} onScroll={_onScroll} onMomentumScrollBegin={_onMomentumScrollBegin} onMomentumScrollEnd={_onMomentumScrollEnd} onScrollToIndexFailed={_onScrollToIndexFailed}/>);\n    // _getItemLayout = (data, index) => {\n    //   return {length: constants.screenWidth, offset: constants.screenWidth * index, index};\n    // }\n};\nexport default AgendaList;\nAgendaList.displayName = 'AgendaList';\nAgendaList.propTypes = {\n    // ...SectionList.propTypes,\n    dayFormat: PropTypes.string,\n    dayFormatter: PropTypes.func,\n    useMoment: PropTypes.bool,\n    markToday: PropTypes.bool,\n    sectionStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    avoidDateUpdates: PropTypes.bool\n};\nAgendaList.defaultProps = {\n    dayFormat: 'dddd, MMM d',\n    stickySectionHeadersEnabled: true,\n    markToday: true\n};\n"
    ],
    "mappings": "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"
  },
  "metadata": {},
  "sourceType": "module"
}
