{"ast":null,"code":"import { firebase } from \"../firebase\";\nimport \"../global\";\nauthEmail = MSuser.account.userName;\n\nfunction setUserVariables(data) {\n  authUser = data;\n  authUserID = data.child(\"id\").val();\n  authName = authUser.child(\"user_FirstName\").val();\n  authLastName = authUser.child(\"user_LastName\").val();\n  authUserProfilePic = authUser.child(\"user_profile_photo/\").val();\n  authUserRef = firebase.database().ref(\"/users\") + \"/\" + authUserID + \"/\";\n  console.log(\"User ID: \" + authUserID + \" authenticated.\");\n}\n\nexport function retrieveUser() {\n  firebase.database().ref(\"/users\").once(\"value\", function (snapshot) {\n    snapshot.forEach(function (childSnapshot) {\n      var childData = childSnapshot.val();\n\n      if (childData.user_Email == authEmail) {\n        found = true;\n        setUserVariables(childSnapshot);\n      }\n    });\n  }).then(function () {\n    if (!found) {\n      navigation.navigate(\"Register\");\n    }\n  });\n}","map":{"version":3,"names":["firebase","authEmail","MSuser","account","userName","setUserVariables","data","authUser","authUserID","child","val","authName","authLastName","authUserProfilePic","authUserRef","database","ref","console","log","retrieveUser","once","snapshot","forEach","childSnapshot","childData","user_Email","found","then","navigation","navigate"],"sources":["C:/Users/nokno/OneDrive/Documents/GitHub/DFMPC-Student-Placement-System/Screens/LoginData.js"],"sourcesContent":["import { firebase } from \"../firebase\";\r\nimport \"../global\";\r\n\r\n\r\nauthEmail = MSuser.account.userName;\r\n\r\nfunction setUserVariables(data) {\r\n    // store information about the user who is currently logged in\r\n    authUser = data;\r\n    authUserID = data.child(\"id\").val();\r\n    //authStudentNumber= authUser.child(\"\")user_FirstName\r\n\r\n    authName = authUser.child(\"user_FirstName\").val();\r\n    authLastName = authUser.child(\"user_LastName\").val();\r\n    authUserProfilePic = authUser.child(\"user_profile_photo/\").val();\r\n    authUserRef = firebase.database().ref(\"/users\") + \"/\" + authUserID + \"/\";\r\n    console.log(\"User ID: \" + authUserID + \" authenticated.\");\r\n  }\r\n\r\nexport function retrieveUser() {\r\n  firebase\r\n    .database()\r\n    .ref(\"/users\")\r\n    .once(\"value\", function (snapshot) {\r\n      snapshot.forEach(function (childSnapshot) {\r\n        var childData = childSnapshot.val();\r\n        if (childData.user_Email == authEmail) {\r\n          found = true;\r\n          setUserVariables(childSnapshot);\r\n        }\r\n      });\r\n    })\r\n    .then(() => {\r\n      if (!found) {\r\n        navigation.navigate(\"Register\");\r\n      }\r\n    });\r\n}\r\n\r\n"],"mappings":"AAAA,SAASA,QAAT;AACA;AAGAC,SAAS,GAAGC,MAAM,CAACC,OAAP,CAAeC,QAA3B;;AAEA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;EAE5BC,QAAQ,GAAGD,IAAX;EACAE,UAAU,GAAGF,IAAI,CAACG,KAAL,CAAW,IAAX,EAAiBC,GAAjB,EAAb;EAGAC,QAAQ,GAAGJ,QAAQ,CAACE,KAAT,CAAe,gBAAf,EAAiCC,GAAjC,EAAX;EACAE,YAAY,GAAGL,QAAQ,CAACE,KAAT,CAAe,eAAf,EAAgCC,GAAhC,EAAf;EACAG,kBAAkB,GAAGN,QAAQ,CAACE,KAAT,CAAe,qBAAf,EAAsCC,GAAtC,EAArB;EACAI,WAAW,GAAGd,QAAQ,CAACe,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,IAAoC,GAApC,GAA0CR,UAA1C,GAAuD,GAArE;EACAS,OAAO,CAACC,GAAR,CAAY,cAAcV,UAAd,GAA2B,iBAAvC;AACD;;AAEH,OAAO,SAASW,YAAT,GAAwB;EAC7BnB,QAAQ,CACLe,QADH,GAEGC,GAFH,CAEO,QAFP,EAGGI,IAHH,CAGQ,OAHR,EAGiB,UAAUC,QAAV,EAAoB;IACjCA,QAAQ,CAACC,OAAT,CAAiB,UAAUC,aAAV,EAAyB;MACxC,IAAIC,SAAS,GAAGD,aAAa,CAACb,GAAd,EAAhB;;MACA,IAAIc,SAAS,CAACC,UAAV,IAAwBxB,SAA5B,EAAuC;QACrCyB,KAAK,GAAG,IAAR;QACArB,gBAAgB,CAACkB,aAAD,CAAhB;MACD;IACF,CAND;EAOD,CAXH,EAYGI,IAZH,CAYQ,YAAM;IACV,IAAI,CAACD,KAAL,EAAY;MACVE,UAAU,CAACC,QAAX,CAAoB,UAApB;IACD;EACF,CAhBH;AAiBD"},"metadata":{},"sourceType":"module"}